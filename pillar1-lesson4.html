<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 4 - Needs vs. Wants - FinanceU</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .lesson-container { max-width: 800px; margin: 0 auto; padding: 40px 20px; }
        .lesson-header { text-align: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 3px solid var(--primary-color); }
        .lesson-header h1 { font-size: 36px; color: var(--text-primary); margin-bottom: 10px; }
        .lesson-header .lesson-number { color: var(--primary-color); font-size: 18px; font-weight: 600; margin-bottom: 5px; }
        .lesson-section { background: white; padding: 30px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .lesson-section h2 { color: var(--primary-color); font-size: 24px; margin-bottom: 15px; }
        .lesson-section p { line-height: 1.8; color: var(--text-secondary); margin-bottom: 15px; }
        .lesson-section ul { line-height: 1.8; color: var(--text-secondary); margin-left: 20px; margin-bottom: 15px; }
        .visual-box { background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); border-left: 4px solid var(--primary-color); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .visual-box h3 { color: var(--primary-color); margin-bottom: 15px; font-size: 18px; }
        .needs-wants-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px; }
        .needs-box { background: #10b98120; padding: 20px; border-radius: 8px; border: 2px solid #10b981; }
        .wants-box { background: #3b82f620; padding: 20px; border-radius: 8px; border: 2px solid #3b82f6; }
        .needs-box h4 { color: #10b981; margin-bottom: 10px; }
        .wants-box h4 { color: #3b82f6; margin-bottom: 10px; }
        .action-box { background: #10b98120; border-left: 4px solid #10b981; padding: 20px; border-radius: 8px; }
        .action-box h3 { color: #10b981; margin-bottom: 10px; }
        .reflection-box { background: #f59e0b20; border-left: 4px solid #f59e0b; padding: 20px; border-radius: 8px; }
        .reflection-box h3 { color: #f59e0b; margin-bottom: 10px; }
        .mistakes-list { background: #fee2e2; padding: 20px; border-radius: 8px; border-left: 4px solid #dc2626; }
        .mistakes-list h3 { color: #dc2626; margin-bottom: 15px; }
        .btn-finish { display: block; width: 100%; max-width: 400px; margin: 30px auto; padding: 18px; background: var(--primary-color); color: white; text-align: center; text-decoration: none; border-radius: 8px; font-size: 18px; font-weight: 600; transition: background 0.2s; border: none; cursor: pointer; }
        .btn-finish:hover { background: #2563eb; }
        .back-link { display: inline-block; margin-bottom: 20px; color: var(--primary-color); text-decoration: none; font-weight: 600; }
        .back-link:hover { text-decoration: underline; }
        .quiz-container { background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); border: 2px solid var(--primary-color); border-radius: 12px; padding: 30px; margin: 40px 0 30px 0; }
        .quiz-header { text-align: center; margin-bottom: 25px; }
        .quiz-header h2 { color: var(--primary-color); font-size: 28px; margin-bottom: 10px; }
        .quiz-header p { color: var(--text-secondary); font-size: 16px; }
        .question-card { background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .question-text { font-size: 18px; font-weight: 600; color: var(--text-primary); margin-bottom: 15px; }
        .answer-option { background: #f9fafb; padding: 15px; border: 2px solid #e5e7eb; border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: all 0.2s; }
        .answer-option:hover { border-color: var(--primary-color); background: #eff6ff; }
        .answer-option.selected { border-color: var(--primary-color); background: #dbeafe; }
        .answer-option.correct { border-color: #10b981; background: #d1fae5; }
        .answer-option.incorrect { border-color: #dc2626; background: #fee2e2; }
        .btn-submit-quiz { display: block; width: 100%; max-width: 300px; margin: 20px auto; padding: 15px; background: var(--primary-color); color: white; text-align: center; border-radius: 8px; font-size: 16px; font-weight: 600; border: none; cursor: pointer; transition: background 0.2s; }
        .btn-submit-quiz:hover { background: #2563eb; }
        .btn-submit-quiz:disabled { background: #9ca3af; cursor: not-allowed; }
        .quiz-result { background: white; padding: 25px; border-radius: 8px; text-align: center; margin-top: 20px; }
        .quiz-result.pass { border: 3px solid #10b981; }
        .quiz-result.fail { border: 3px solid #dc2626; }
        .result-icon { font-size: 48px; margin-bottom: 15px; }
        .result-text { font-size: 24px; font-weight: 700; margin-bottom: 10px; }
        .result-score { font-size: 18px; color: var(--text-secondary); margin-bottom: 20px; }
        .btn-retry { padding: 12px 24px; background: #f59e0b; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .btn-retry:hover { background: #d97706; }
        .btn-finish:disabled { background: #9ca3af; cursor: not-allowed; opacity: 0.6; }
        @media (max-width: 768px) { .needs-wants-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo"><a href="index.html" style="color: inherit; text-decoration: none;">Finance<span class="logo-accent">U</span></a></div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li id="authButtons" style="opacity: 0;">
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="lesson-container">
        <a href="pillar1-lessons.html" class="back-link">‚Üê Back to Pillar 1 Lessons</a>

        <div class="lesson-header">
            <div class="lesson-number">LESSON 4</div>
            <h1>Needs vs. Wants</h1>
        </div>

        <div class="lesson-section">
            <h2>Quick Intro</h2>
            <p>One of the most important financial skills is distinguishing between needs and wants. It sounds simple, but in modern life, the line gets blurry fast. Is a smartphone a need or a want? What about streaming services? Your ability to honestly answer these questions will directly impact your financial success.</p>
        </div>

        <div class="lesson-section">
            <h2>Core Concept</h2>
            <p><strong>Needs are essentials required for survival and basic functioning. Wants are desires that enhance your life but aren't necessary.</strong></p>
            <p><strong>True Needs:</strong></p>
            <ul>
                <li>Shelter (housing with basic utilities)</li>
                <li>Food (nutritious meals, not necessarily restaurants)</li>
                <li>Clothing (adequate, not designer)</li>
                <li>Healthcare (medical necessities)</li>
                <li>Transportation (to work/school, not luxury cars)</li>
            </ul>
            <p><strong>Wants:</strong></p>
            <ul>
                <li>Entertainment subscriptions</li>
                <li>Eating out frequently</li>
                <li>Latest phone or tech gadgets</li>
                <li>Fashion beyond basic clothing</li>
                <li>Luxury or convenience items</li>
            </ul>
            <p><strong>The Gray Area:</strong> Some items can be needs in certain situations and wants in others. A car is a need if you live in a rural area with no public transport, but a want if you live in a city with good transit. Context matters.</p>
        </div>

        <div class="lesson-section">
            <h2>Simple Example</h2>
            <p>Meet Jordan, who's struggling financially:</p>
            <p><strong>Jordan's "Needs" List:</strong></p>
            <ul>
                <li>Apartment rent: $800 ‚úì (actual need)</li>
                <li>iPhone 15 Pro payment: $50/month ‚úó (want‚Äîa basic smartphone works)</li>
                <li>Groceries: $200 ‚úì (need)</li>
                <li>DoorDash 3x/week: $120 ‚úó (want‚Äîcould cook instead)</li>
                <li>Netflix, Hulu, Disney+: $35 ‚úó (wants‚Äîentertainment)</li>
                <li>Gym membership: $40 ‚úì/‚úó (depends‚Äîcould exercise free, but health matters)</li>
            </ul>
            <p><strong>The Reality:</strong> Jordan has $245/month in expenses labeled as "needs" that are actually wants or upgrades. That's $2,940 per year that could go toward debt, savings, or emergencies.</p>
            <p>The goal isn't to eliminate all wants‚Äîit's to be honest about what they are and prioritize accordingly.</p>
        </div>

        <div class="visual-box">
            <h3>The Needs vs. Wants Test</h3>
            <div class="needs-wants-grid">
                <div class="needs-box">
                    <h4>‚úì IT'S A NEED IF...</h4>
                    <ul style="font-size: 14px; margin-top: 10px; list-style: none;">
                        <li>‚Ä¢ Your survival depends on it</li>
                        <li>‚Ä¢ You can't work/function without it</li>
                        <li>‚Ä¢ It maintains health and safety</li>
                        <li>‚Ä¢ There's no reasonable alternative</li>
                    </ul>
                </div>
                <div class="wants-box">
                    <h4>‚úì IT'S A WANT IF...</h4>
                    <ul style="font-size: 14px; margin-top: 10px; list-style: none;">
                        <li>‚Ä¢ It's an upgrade or luxury version</li>
                        <li>‚Ä¢ You'd survive without it</li>
                        <li>‚Ä¢ It's for entertainment or status</li>
                        <li>‚Ä¢ A cheaper option exists</li>
                    </ul>
                </div>
            </div>
            <p style="margin-top: 20px; text-align: center; font-weight: 600; color: var(--text-primary); font-size: 15px;">
                Key Rule: If you're in debt or struggling financially, needs come first. Always.
            </p>
        </div>

        <div class="lesson-section">
            <div class="mistakes-list">
                <h3>Common Mistakes to Avoid</h3>
                <ul style="margin-left: 20px;">
                    <li><strong>Calling everything a "need":</strong> "I need new shoes" usually means "I want new shoes." You rarely need fashion items if you already have functional ones.</li>
                    <li><strong>Justifying wants with weak logic:</strong> "I need this latte to function" is not true. You want the latte. That's okay, but call it what it is.</li>
                    <li><strong>Comparing to others:</strong> Just because your friends have something doesn't make it a need for you. Their finances aren't your finances.</li>
                    <li><strong>Ignoring cheaper alternatives:</strong> Brand-name groceries vs. store brand, new car vs. used, premium cable vs. basic streaming‚Äîwants often hide in upgrades.</li>
                </ul>
            </div>
        </div>

        <div class="lesson-section">
            <div class="action-box">
                <h3>üéØ Your Micro Action</h3>
                <p><strong>Review your last 5 purchases and label them:</strong></p>
                <p>Look at your recent transactions (bank app, credit card, receipts). For each purchase, honestly ask: "Was this a need or a want?" Don't judge yourself‚Äîjust observe. Most people find that 60-80% of their purchases are wants, and that's normal. The point is awareness.</p>
                <p>If you find mostly wants and you're struggling financially, you now know where to make changes.</p>
            </div>
        </div>

        <div class="lesson-section">
            <div class="reflection-box">
                <h3>üí≠ Quick Reflection</h3>
                <p><strong>Think about this:</strong></p>
                <p>What's one "need" you've been claiming that's actually a want? Can you think of a cheaper alternative that would meet the actual need? Remember: Having wants is human and normal. The problem only comes when wants consume all your money, leaving nothing for needs, emergencies, or your future. What matters is honest awareness and intentional choices.</p>
                <p style="margin-top: 15px; font-size: 14px; font-style: italic;">Reflect on this before continuing.</p>
            </div>
        </div>

        <!-- Lesson Quiz -->
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <h2>Lesson Quiz</h2>
                <p>Answer these questions to unlock the next lesson. You need 80% (3 out of 4) to pass.</p>
            </div>
            <div id="quizQuestions"></div>
            <button class="btn-submit-quiz" id="submitQuiz" onclick="submitQuiz()">Submit Quiz</button>
            <div id="quizResult"></div>
        </div>

        <button class="btn-finish" id="finishBtn" onclick="finishLesson()" disabled>Finish Lesson</button>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>FinanceU</h4>
                    <p>Making financial literacy accessible for everyone.</p>
                </div>
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="careers.html">Careers</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="help.html">Help Center</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 10px;">Disclaimer: FinanceU provides educational content only and does not offer financial, legal, or investment advice. Always consult with a qualified professional before making financial decisions.</p>
                <p>&copy; 2025 FinanceU. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="config.js"></script>
    <script>
        async function updateNav() {
            try {
                const response = await fetch(`${API_URL}/auth/me`, { credentials: 'include' });
                const authButtons = document.getElementById('authButtons');
                if (response.ok) {
                    authButtons.innerHTML = `<a href="dashboard.html" class="btn-primary">Dashboard</a>`;
                } else {
                    authButtons.innerHTML = `<a href="login.html" class="btn-primary">Login</a>`;
                }
            } catch (error) {
                console.log('Not logged in');
            }
        }

        const quizData = [
            {
                versions: [
                    {
                        question: "What is the main difference between needs and wants?",
                        options: [
                            "Needs are expensive, wants are cheap",
                            "Needs are essentials for survival, wants enhance your life but aren't necessary",
                            "Needs are boring, wants are fun",
                            "There is no difference"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which statement best describes the difference between needs and wants?",
                        options: [
                            "Needs keep you alive, wants make life enjoyable",
                            "All needs are wants",
                            "Wants are more important than needs",
                            "Needs and wants are always the same"
                        ],
                        correct: 0
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "Which of the following is a true need?",
                        options: [
                            "Designer clothing",
                            "Latest smartphone model",
                            "Nutritious food for meals",
                            "Premium cable package"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which item is most likely a want rather than a need?",
                        options: [
                            "Basic shelter",
                            "Entertainment subscriptions",
                            "Medical care",
                            "Work transportation"
                        ],
                        correct: 1
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "In the lesson, Jordan could save how much per year by identifying wants disguised as needs?",
                        options: [
                            "$1,200",
                            "$2,940",
                            "$5,000",
                            "$500"
                        ],
                        correct: 1
                    },
                    {
                        question: "What did Jordan discover about expenses labeled as 'needs'?",
                        options: [
                            "They were all actual needs",
                            "$245/month were actually wants or upgrades",
                            "Everything was essential",
                            "Only $50 was unnecessary"
                        ],
                        correct: 1
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "According to the lesson, when should needs come first?",
                        options: [
                            "Never, wants are more important",
                            "Only on weekends",
                            "If you're in debt or struggling financially, always",
                            "Only during emergencies"
                        ],
                        correct: 2
                    },
                    {
                        question: "What's the problem with calling everything a 'need'?",
                        options: [
                            "It prevents honest assessment of spending",
                            "It makes you happier",
                            "It increases your income",
                            "It has no effect on finances"
                        ],
                        correct: 0
                    }
                ]
            }
        ];

        let currentQuestions = [];
        let userAnswers = [];
        let quizPassed = false;

        function initQuiz() {
            const userId = localStorage.getItem('userId');
            const quizPassedStatus = localStorage.getItem(`lesson4_quiz_passed_${userId}`);
            if (quizPassedStatus === 'true') {
                quizPassed = true;
                document.getElementById('finishBtn').disabled = false;
                document.getElementById('quizContainer').style.display = 'none';
                return;
            }
            currentQuestions = quizData.map(q => q.versions[Math.floor(Math.random() * q.versions.length)]);
            renderQuiz();
        }

        function renderQuiz() {
            const questionsContainer = document.getElementById('quizQuestions');
            questionsContainer.innerHTML = '';
            userAnswers = new Array(currentQuestions.length).fill(null);
            currentQuestions.forEach((q, qIndex) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.innerHTML = `
                    <div class="question-text">Question ${qIndex + 1}: ${q.question}</div>
                    ${q.options.map((option, oIndex) => `
                        <div class="answer-option" onclick="selectAnswer(${qIndex}, ${oIndex})">
                            <input type="radio" name="question${qIndex}" value="${oIndex}" style="margin-right: 10px;">
                            ${option}
                        </div>
                    `).join('')}
                `;
                questionsContainer.appendChild(questionCard);
            });
            document.getElementById('submitQuiz').disabled = false;
            document.getElementById('quizResult').innerHTML = '';
        }

        function selectAnswer(questionIndex, optionIndex) {
            userAnswers[questionIndex] = optionIndex;
            const questionCard = document.querySelectorAll('.question-card')[questionIndex];
            const options = questionCard.querySelectorAll('.answer-option');
            options.forEach((opt, idx) => {
                opt.classList.remove('selected');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                    opt.querySelector('input').checked = true;
                }
            });
        }

        function submitQuiz() {
            if (userAnswers.includes(null)) {
                alert('Please answer all questions before submitting.');
                return;
            }
            let correct = 0;
            currentQuestions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) correct++;
            });
            const percentage = Math.round((correct / currentQuestions.length) * 100);
            const passed = percentage >= 80;
            document.querySelectorAll('.question-card').forEach((card, qIndex) => {
                const options = card.querySelectorAll('.answer-option');
                options.forEach((opt, oIndex) => {
                    opt.style.pointerEvents = 'none';
                    if (oIndex === currentQuestions[qIndex].correct) {
                        opt.classList.add('correct');
                    } else if (oIndex === userAnswers[qIndex] && oIndex !== currentQuestions[qIndex].correct) {
                        opt.classList.add('incorrect');
                    }
                });
            });
            const resultDiv = document.getElementById('quizResult');
            if (passed) {
                quizPassed = true;
                const userId = localStorage.getItem('userId');
                localStorage.setItem(`lesson4_quiz_passed_${userId}`, 'true');
                document.getElementById('finishBtn').disabled = false;
                resultDiv.innerHTML = `
                    <div class="quiz-result pass">
                        <div class="result-icon">üéâ</div>
                        <div class="result-text" style="color: #10b981;">Quiz Passed!</div>
                        <div class="result-score">You scored ${correct} out of ${currentQuestions.length} (${percentage}%)</div>
                        <p style="color: var(--text-secondary);">Great job! You can now finish the lesson and move to the next one.</p>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="quiz-result fail">
                        <div class="result-icon">üìö</div>
                        <div class="result-text" style="color: #dc2626;">Not quite there yet</div>
                        <div class="result-score">You scored ${correct} out of ${currentQuestions.length} (${percentage}%)</div>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">You need 80% to pass. Review the lesson and try again!</p>
                        <button class="btn-retry" onclick="retryQuiz()">Retry Quiz</button>
                    </div>
                `;
            }
            document.getElementById('submitQuiz').style.display = 'none';
        }

        function retryQuiz() {
            currentQuestions = quizData.map(q => q.versions[Math.floor(Math.random() * q.versions.length)]);
            renderQuiz();
            document.getElementById('submitQuiz').style.display = 'block';
        }

        function finishLesson() {
            if (!quizPassed) {
                alert('Please complete the quiz first!');
                return;
            }
            const completed = JSON.parse(localStorage.getItem(`pillar1_completed_${localStorage.getItem('userId')}`) || '[]');
            if (!completed.includes(4)) {
                completed.push(4);
                localStorage.setItem(`pillar1_completed_${localStorage.getItem('userId')}`, JSON.stringify(completed));
            }
            window.location.href = 'pillar1-lessons.html';
        }

        updateNav();
        initQuiz();
    </script>
</body>
</html>
