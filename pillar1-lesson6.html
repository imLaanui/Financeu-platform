<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 6 - Introduction to Banking - FinanceU</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .lesson-container { max-width: 800px; margin: 0 auto; padding: 40px 20px; }
        .lesson-header { text-align: center; margin-bottom: 40px; padding-bottom: 20px; border-bottom: 3px solid var(--primary-color); }
        .lesson-header h1 { font-size: 36px; color: var(--text-primary); margin-bottom: 10px; }
        .lesson-header .lesson-number { color: var(--primary-color); font-size: 18px; font-weight: 600; margin-bottom: 5px; }
        .lesson-section { background: white; padding: 30px; border-radius: 12px; margin-bottom: 25px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .lesson-section h2 { color: var(--primary-color); font-size: 24px; margin-bottom: 15px; }
        .lesson-section p { line-height: 1.8; color: var(--text-secondary); margin-bottom: 15px; }
        .lesson-section ul { line-height: 1.8; color: var(--text-secondary); margin-left: 20px; margin-bottom: 15px; }
        .visual-box { background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); border-left: 4px solid var(--primary-color); padding: 20px; border-radius: 8px; margin: 20px 0; }
        .visual-box h3 { color: var(--primary-color); margin-bottom: 15px; font-size: 18px; }
        .account-types { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 15px; }
        .account-card { background: white; padding: 20px; border-radius: 8px; border: 2px solid #3b82f6; }
        .action-box { background: #10b98120; border-left: 4px solid #10b981; padding: 20px; border-radius: 8px; }
        .action-box h3 { color: #10b981; margin-bottom: 10px; }
        .reflection-box { background: #f59e0b20; border-left: 4px solid #f59e0b; padding: 20px; border-radius: 8px; }
        .reflection-box h3 { color: #f59e0b; margin-bottom: 10px; }
        .mistakes-list { background: #fee2e2; padding: 20px; border-radius: 8px; border-left: 4px solid #dc2626; }
        .mistakes-list h3 { color: #dc2626; margin-bottom: 15px; }
        .btn-finish { display: block; width: 100%; max-width: 400px; margin: 30px auto; padding: 18px; background: var(--primary-color); color: white; text-align: center; text-decoration: none; border-radius: 8px; font-size: 18px; font-weight: 600; transition: background 0.2s; border: none; cursor: pointer; }
        .btn-finish:hover { background: #2563eb; }
        .back-link { display: inline-block; margin-bottom: 20px; color: var(--primary-color); text-decoration: none; font-weight: 600; }
        .back-link:hover { text-decoration: underline; }
        .quiz-container { background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%); border: 2px solid var(--primary-color); border-radius: 12px; padding: 30px; margin: 40px 0 30px 0; }
        .quiz-header { text-align: center; margin-bottom: 25px; }
        .quiz-header h2 { color: var(--primary-color); font-size: 28px; margin-bottom: 10px; }
        .quiz-header p { color: var(--text-secondary); font-size: 16px; }
        .question-card { background: white; padding: 25px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); }
        .question-text { font-size: 18px; font-weight: 600; color: var(--text-primary); margin-bottom: 15px; }
        .answer-option { background: #f9fafb; padding: 15px; border: 2px solid #e5e7eb; border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: all 0.2s; }
        .answer-option:hover { border-color: var(--primary-color); background: #eff6ff; }
        .answer-option.selected { border-color: var(--primary-color); background: #dbeafe; }
        .answer-option.correct { border-color: #10b981; background: #d1fae5; }
        .answer-option.incorrect { border-color: #dc2626; background: #fee2e2; }
        .btn-submit-quiz { display: block; width: 100%; max-width: 300px; margin: 20px auto; padding: 15px; background: var(--primary-color); color: white; text-align: center; border-radius: 8px; font-size: 16px; font-weight: 600; border: none; cursor: pointer; transition: background 0.2s; }
        .btn-submit-quiz:hover { background: #2563eb; }
        .btn-submit-quiz:disabled { background: #9ca3af; cursor: not-allowed; }
        .quiz-result { background: white; padding: 25px; border-radius: 8px; text-align: center; margin-top: 20px; }
        .quiz-result.pass { border: 3px solid #10b981; }
        .quiz-result.fail { border: 3px solid #dc2626; }
        .result-icon { font-size: 48px; margin-bottom: 15px; }
        .result-text { font-size: 24px; font-weight: 700; margin-bottom: 10px; }
        .result-score { font-size: 18px; color: var(--text-secondary); margin-bottom: 20px; }
        .btn-retry { padding: 12px 24px; background: #f59e0b; color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; transition: background 0.2s; }
        .btn-retry:hover { background: #d97706; }
        .btn-finish:disabled { background: #9ca3af; cursor: not-allowed; opacity: 0.6; }
        @media (max-width: 768px) { .account-types { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo"><a href="index.html" style="color: inherit; text-decoration: none;">Finance<span class="logo-accent">U</span></a></div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="dashboard.html">Dashboard</a></li>
                    <li id="authButtons" style="opacity: 0;">
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="lesson-container">
        <a href="pillar1-lessons.html" class="back-link">‚Üê Back to Pillar 1 Lessons</a>

        <div class="lesson-header">
            <div class="lesson-number">LESSON 6</div>
            <h1>Introduction to Banking</h1>
        </div>

        <div class="lesson-section">
            <h2>Quick Intro</h2>
            <p>Banks are more than just places to store money‚Äîthey're essential tools for managing your financial life. Understanding how banks work, what services they offer, and how to use them wisely will save you money and stress. This lesson covers everything you need to know to choose and use a bank confidently.</p>
        </div>

        <div class="lesson-section">
            <h2>Core Concept</h2>
            <p><strong>Banks are financial institutions that hold your money safely, provide services like checking and savings accounts, and offer credit products.</strong></p>
            <p><strong>What Banks Do:</strong></p>
            <ul>
                <li><strong>Store Money Safely:</strong> Better than keeping cash under your mattress. Banks are insured by the FDIC (up to $250,000).</li>
                <li><strong>Facilitate Transactions:</strong> Direct deposit, bill payments, transfers, debit cards‚Äîbanks make moving money easy.</li>
                <li><strong>Provide Credit:</strong> Loans, credit cards, and lines of credit (borrowing money you'll pay back later).</li>
                <li><strong>Earn Interest:</strong> Some accounts pay you for keeping money with them (though rates are often low).</li>
            </ul>
            <p><strong>Types of Financial Institutions:</strong></p>
            <ul>
                <li><strong>Traditional Banks:</strong> Physical branches, full services, often higher fees.</li>
                <li><strong>Credit Unions:</strong> Member-owned, often better rates and lower fees, but fewer locations.</li>
                <li><strong>Online Banks:</strong> No physical branches, lower fees, higher interest rates, app-based.</li>
            </ul>
        </div>

        <div class="lesson-section">
            <h2>Simple Example</h2>
            <p>Taylor is 18 and just got their first job. Here's how banking helps:</p>
            <ul>
                <li><strong>Checking Account:</strong> Taylor's employer deposits paychecks directly. Taylor uses a debit card for daily purchases and pays bills online.</li>
                <li><strong>Savings Account:</strong> Taylor automatically transfers $50 each paycheck to savings, earning a small amount of interest.</li>
                <li><strong>Mobile App:</strong> Taylor checks balances, transfers money, and deposits checks by taking photos‚Äîall from their phone.</li>
                <li><strong>Safety:</strong> If Taylor loses their debit card, the bank replaces it. Cash in Taylor's wallet, however, is just gone if lost.</li>
            </ul>
            <p>Without a bank, Taylor would need to cash checks at check-cashing stores (expensive fees), carry large amounts of cash (risky), and pay bills in person or with money orders (time-consuming).</p>
        </div>

        <div class="visual-box">
            <h3>Main Account Types You Should Know</h3>
            <div class="account-types">
                <div class="account-card">
                    <h4 style="color: #10b981; margin-bottom: 10px;">Checking Account</h4>
                    <p style="font-size: 14px; line-height: 1.6;"><strong>Purpose:</strong> Daily transactions<br>
                    <strong>Features:</strong> Debit card, checks, bill pay<br>
                    <strong>Interest:</strong> Usually none or very low<br>
                    <strong>Best For:</strong> Money you need to access frequently</p>
                </div>
                <div class="account-card">
                    <h4 style="color: #3b82f6; margin-bottom: 10px;">Savings Account</h4>
                    <p style="font-size: 14px; line-height: 1.6;"><strong>Purpose:</strong> Storing money for later<br>
                    <strong>Features:</strong> Earns interest, limited transactions<br>
                    <strong>Interest:</strong> Small but guaranteed<br>
                    <strong>Best For:</strong> Emergency funds, short-term goals</p>
                </div>
            </div>
        </div>

        <div class="lesson-section">
            <div class="mistakes-list">
                <h3>Common Mistakes to Avoid</h3>
                <ul style="margin-left: 20px;">
                    <li><strong>Not comparing options:</strong> Banks have different fees, requirements, and perks. Shop around before opening an account.</li>
                    <li><strong>Ignoring fees:</strong> Monthly maintenance fees, overdraft fees, ATM fees‚Äîthey add up. Many free checking accounts exist if you look.</li>
                    <li><strong>Overdrawing your account:</strong> Spending more than you have triggers expensive overdraft fees ($30-$35 each time). Track your balance!</li>
                    <li><strong>Keeping all money in checking:</strong> Move extra money to savings where it's less tempting to spend and earns (a little) interest.</li>
                    <li><strong>Not reading the fine print:</strong> Minimum balance requirements, transaction limits, and fee schedules matter. Know what you're signing up for.</li>
                </ul>
            </div>
        </div>

        <div class="lesson-section">
            <div class="action-box">
                <h3>üéØ Your Micro Action</h3>
                <p><strong>If you don't have a bank account: Research 3 banks or credit unions near you or online.</strong></p>
                <p>Look for:</p>
                <ul>
                    <li>No monthly fees (or easy ways to avoid them)</li>
                    <li>No minimum balance requirements</li>
                    <li>Free ATM access</li>
                    <li>Good mobile app reviews</li>
                </ul>
                <p><strong>If you already have a bank account: Check if you're paying unnecessary fees.</strong></p>
                <p>Log into your account and review last month's statements. Are you being charged monthly fees? Overdraft fees? ATM fees? If yes, see if you can switch to a fee-free account or change your banking habits.</p>
            </div>
        </div>

        <div class="lesson-section">
            <div class="reflection-box">
                <h3>üí≠ Quick Reflection</h3>
                <p><strong>Think about this:</strong></p>
                <p>How comfortable are you with your current banking situation? Are you using a bank that works for you, or just the one your parents set up years ago? Do you understand all the fees you're paying? Banking should make your life easier, not cost you money. If your current situation isn't working, it's okay to switch. Most people never do, but you're learning to be intentional with your finances.</p>
                <p style="margin-top: 15px; font-size: 14px; font-style: italic;">Reflect on your banking relationship.</p>
            </div>
        </div>

        <!-- Lesson Quiz -->
        <div class="quiz-container" id="quizContainer">
            <div class="quiz-header">
                <h2>Lesson Quiz</h2>
                <p>Answer these questions to unlock the next lesson. You need 80% (3 out of 4) to pass.</p>
            </div>
            <div id="quizQuestions"></div>
            <button class="btn-submit-quiz" id="submitQuiz" onclick="submitQuiz()">Submit Quiz</button>
            <div id="quizResult"></div>
        </div>

        <button class="btn-finish" id="finishBtn" onclick="finishLesson()" disabled>Finish Lesson</button>
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>FinanceU</h4>
                    <p>Making financial literacy accessible for everyone.</p>
                </div>
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="careers.html">Careers</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="help.html">Help Center</a></li>
                        <li><a href="privacy.html">Privacy Policy</a></li>
                        <li><a href="terms.html">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 10px;">Disclaimer: FinanceU provides educational content only and does not offer financial, legal, or investment advice. Always consult with a qualified professional before making financial decisions.</p>
                <p>&copy; 2025 FinanceU. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="config.js"></script>
    <script>
        async function updateNav() {
            try {
                const response = await fetch(`${API_URL}/auth/me`, { credentials: 'include' });
                const authButtons = document.getElementById('authButtons');
                if (response.ok) {
                    authButtons.innerHTML = `<a href="dashboard.html" class="btn-primary">Dashboard</a>`;
                } else {
                    authButtons.innerHTML = `<a href="login.html" class="btn-primary">Login</a>`;
                }
            } catch (error) {
                console.log('Not logged in');
            }
        }

        const quizData = [
            {
                versions: [
                    {
                        question: "What is one of the main functions of banks?",
                        options: [
                            "To make money disappear",
                            "To store money safely and facilitate transactions",
                            "To charge as many fees as possible",
                            "To invest in stocks only"
                        ],
                        correct: 1
                    },
                    {
                        question: "How much does the FDIC insure bank deposits up to?",
                        options: [
                            "$50,000",
                            "$100,000",
                            "$250,000",
                            "$1,000,000"
                        ],
                        correct: 2
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "What is the main purpose of a checking account?",
                        options: [
                            "Long-term savings",
                            "Daily transactions and frequent access",
                            "Earning high interest",
                            "Investing in stocks"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which account type is best for storing emergency funds?",
                        options: [
                            "Checking account",
                            "Savings account",
                            "Credit card",
                            "Loan account"
                        ],
                        correct: 1
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "What type of institution is member-owned and often has better rates?",
                        options: [
                            "Traditional banks",
                            "Online banks",
                            "Credit unions",
                            "Payday lenders"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of bank typically has no physical branches but lower fees?",
                        options: [
                            "Traditional banks",
                            "Credit unions",
                            "Online banks",
                            "Investment banks"
                        ],
                        correct: 2
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "What common banking mistake involves spending more than you have?",
                        options: [
                            "Saving too much",
                            "Overdrawing your account",
                            "Using the mobile app",
                            "Having direct deposit"
                        ],
                        correct: 1
                    },
                    {
                        question: "According to the lesson, what should you avoid to prevent unnecessary costs?",
                        options: [
                            "Using online banking",
                            "Saving money",
                            "Ignoring fees like monthly maintenance and overdraft fees",
                            "Opening a checking account"
                        ],
                        correct: 2
                    }
                ]
            }
        ];

        let currentQuestions = [];
        let userAnswers = [];
        let quizPassed = false;

        function initQuiz() {
            const userId = localStorage.getItem('userId');
            const quizPassedStatus = localStorage.getItem(`lesson6_quiz_passed_${userId}`);
            if (quizPassedStatus === 'true') {
                quizPassed = true;
                document.getElementById('finishBtn').disabled = false;
                document.getElementById('quizContainer').style.display = 'none';
                return;
            }
            currentQuestions = quizData.map(q => q.versions[Math.floor(Math.random() * q.versions.length)]);
            renderQuiz();
        }

        function renderQuiz() {
            const questionsContainer = document.getElementById('quizQuestions');
            questionsContainer.innerHTML = '';
            userAnswers = new Array(currentQuestions.length).fill(null);
            currentQuestions.forEach((q, qIndex) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.innerHTML = `
                    <div class="question-text">Question ${qIndex + 1}: ${q.question}</div>
                    ${q.options.map((option, oIndex) => `
                        <div class="answer-option" onclick="selectAnswer(${qIndex}, ${oIndex})">
                            <input type="radio" name="question${qIndex}" value="${oIndex}" style="margin-right: 10px;">
                            ${option}
                        </div>
                    `).join('')}
                `;
                questionsContainer.appendChild(questionCard);
            });
            document.getElementById('submitQuiz').disabled = false;
            document.getElementById('quizResult').innerHTML = '';
        }

        function selectAnswer(questionIndex, optionIndex) {
            userAnswers[questionIndex] = optionIndex;
            const questionCard = document.querySelectorAll('.question-card')[questionIndex];
            const options = questionCard.querySelectorAll('.answer-option');
            options.forEach((opt, idx) => {
                opt.classList.remove('selected');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                    opt.querySelector('input').checked = true;
                }
            });
        }

        function submitQuiz() {
            if (userAnswers.includes(null)) {
                alert('Please answer all questions before submitting.');
                return;
            }
            let correct = 0;
            currentQuestions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) correct++;
            });
            const percentage = Math.round((correct / currentQuestions.length) * 100);
            const passed = percentage >= 80;
            document.querySelectorAll('.question-card').forEach((card, qIndex) => {
                const options = card.querySelectorAll('.answer-option');
                options.forEach((opt, oIndex) => {
                    opt.style.pointerEvents = 'none';
                    if (oIndex === currentQuestions[qIndex].correct) {
                        opt.classList.add('correct');
                    } else if (oIndex === userAnswers[qIndex] && oIndex !== currentQuestions[qIndex].correct) {
                        opt.classList.add('incorrect');
                    }
                });
            });
            const resultDiv = document.getElementById('quizResult');
            if (passed) {
                quizPassed = true;
                const userId = localStorage.getItem('userId');
                localStorage.setItem(`lesson6_quiz_passed_${userId}`, 'true');
                document.getElementById('finishBtn').disabled = false;
                resultDiv.innerHTML = `
                    <div class="quiz-result pass">
                        <div class="result-icon">üéâ</div>
                        <div class="result-text" style="color: #10b981;">Quiz Passed!</div>
                        <div class="result-score">You scored ${correct} out of ${currentQuestions.length} (${percentage}%)</div>
                        <p style="color: var(--text-secondary);">Great job! You can now finish the lesson and move to the next one.</p>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="quiz-result fail">
                        <div class="result-icon">üìö</div>
                        <div class="result-text" style="color: #dc2626;">Not quite there yet</div>
                        <div class="result-score">You scored ${correct} out of ${currentQuestions.length} (${percentage}%)</div>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">You need 80% to pass. Review the lesson and try again!</p>
                        <button class="btn-retry" onclick="retryQuiz()">Retry Quiz</button>
                    </div>
                `;
            }
            document.getElementById('submitQuiz').style.display = 'none';
        }

        function retryQuiz() {
            currentQuestions = quizData.map(q => q.versions[Math.floor(Math.random() * q.versions.length)]);
            renderQuiz();
            document.getElementById('submitQuiz').style.display = 'block';
        }

        function finishLesson() {
            if (!quizPassed) {
                alert('Please complete the quiz first!');
                return;
            }
            const completed = JSON.parse(localStorage.getItem(`pillar1_completed_${localStorage.getItem('userId')}`) || '[]');
            if (!completed.includes(6)) {
                completed.push(6);
                localStorage.setItem(`pillar1_completed_${localStorage.getItem('userId')}`, JSON.stringify(completed));
            }
            window.location.href = 'pillar1-lessons.html';
        }

        updateNav();
        initQuiz();
    </script>
</body>
</html>
