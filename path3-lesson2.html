<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 2: How Credit Cards Actually Work - Path 3 - FinanceU</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystem Font, sans-serif;
        }

        body {
            background: #0f0f0f;
            min-height: 100vh;
            color: #d1d5db;
            overflow-x: hidden;
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #e5e7eb 0%, #9ca3af 50%, #e5e7eb 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 5s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Purple accent for Path 3 */
        .purple-accent {
            color: #a855f7;
        }

        .glow-purple {
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.4), 0 0 40px rgba(168, 85, 247, 0.2);
        }

        /* Navigation */
        .nav-blur {
            backdrop-filter: blur(12px);
            background: rgba(15, 15, 15, 0.9);
            border-bottom: 1px solid rgba(156, 163, 175, 0.15);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        /* 3D Button Effect */
        .btn-3d {
            transform-style: preserve-3d;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .btn-3d:hover {
            transform: translateY(-4px) translateZ(10px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4), 0 16px 32px rgba(0, 0, 0, 0.3), 0 0 40px rgba(209, 213, 219, 0.2);
        }

        /* Section styling */
        .lesson-section {
            display: none;
            margin-bottom: 80px;
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .lesson-section.visible {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Glass card */
        .glass-card {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.8) 0%, rgba(17, 24, 39, 0.9) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 24px;
            padding: 32px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        }

        /* Progress bar */
        .progress-bar-container {
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(255,255,255,0.05);
            z-index: 100;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #a855f7 0%, #ec4899 100%);
            transition: width 0.3s ease;
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.6);
        }

        /* Interactive Credit Card */
        .credit-card {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);
            border-radius: 20px;
            padding: 30px;
            color: white;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(168, 85, 247, 0.5);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .credit-card:hover {
            transform: rotateY(10deg) rotateX(5deg);
            box-shadow: 0 30px 80px rgba(168, 85, 247, 0.7);
        }

        .credit-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 40px 0;
        }

        .timeline-item {
            display: flex;
            gap: 20px;
            margin-bottom: 40px;
            align-items: flex-start;
        }

        .timeline-dot {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            border-radius: 50%;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.6);
            position: relative;
            z-index: 2;
        }

        .timeline-line {
            position: absolute;
            left: 25px;
            top: 50px;
            bottom: 50px;
            width: 2px;
            background: linear-gradient(180deg, #a855f7 0%, rgba(168, 85, 247, 0.2) 100%);
        }

        .timeline-content {
            flex: 1;
            background: rgba(31, 41, 55, 0.6);
            border: 2px solid rgba(168, 85, 247, 0.3);
            border-radius: 16px;
            padding: 20px;
        }

        /* Interactive Statement */
        .statement-item {
            background: rgba(31, 41, 55, 0.6);
            border: 2px solid rgba(168, 85, 247, 0.2);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .statement-item:hover {
            border-color: rgba(168, 85, 247, 0.6);
            transform: translateX(8px);
            background: rgba(168, 85, 247, 0.1);
        }

        .statement-item.expanded {
            border-color: #a855f7;
            background: rgba(168, 85, 247, 0.15);
        }

        .statement-details {
            display: none;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(168, 85, 247, 0.3);
        }

        .statement-item.expanded .statement-details {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Interest Calculator */
        .calculator {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(185, 28, 28, 0.05) 100%);
            border: 2px solid rgba(239, 68, 68, 0.3);
            border-radius: 16px;
            padding: 24px;
        }

        .slider-container {
            margin: 20px 0;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(75, 85, 99, 0.3);
            outline: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            cursor: pointer;
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.6);
        }

        .slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
            cursor: pointer;
            box-shadow: 0 0 20px rgba(168, 85, 247, 0.6);
            border: none;
        }

        /* Comparison Cards */
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }

        .comparison-card {
            background: rgba(31, 41, 55, 0.6);
            border: 2px solid rgba(168, 85, 247, 0.2);
            border-radius: 16px;
            padding: 24px;
            transition: all 0.3s ease;
        }

        .comparison-card.bad {
            border-color: rgba(239, 68, 68, 0.3);
        }

        .comparison-card.good {
            border-color: rgba(16, 185, 129, 0.3);
        }

        /* Quiz styling */
        .quiz-option {
            background: rgba(31, 41, 55, 0.6);
            border: 2px solid rgba(156, 163, 175, 0.2);
            border-radius: 12px;
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .quiz-option:hover {
            border-color: rgba(168, 85, 247, 0.5);
            transform: translateX(4px);
        }

        .quiz-option.selected {
            border-color: #a855f7;
            background: rgba(168, 85, 247, 0.15);
        }

        .quiz-option.correct {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.15);
        }

        .quiz-option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.15);
        }

        /* Autopay Toggle */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #4b5563;
            transition: .4s;
            border-radius: 34px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        /* Calendar */
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin-top: 20px;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: rgba(31, 41, 55, 0.6);
            border: 1px solid rgba(168, 85, 247, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .calendar-day.header {
            background: transparent;
            border: none;
            font-weight: 600;
            color: #9ca3af;
        }

        .calendar-day.due-date {
            background: rgba(239, 68, 68, 0.2);
            border-color: #ef4444;
            color: #fca5a5;
            font-weight: 700;
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
            animation: pulse 2s ease-in-out infinite;
        }

        .calendar-day.statement-close {
            background: rgba(251, 191, 36, 0.2);
            border-color: #fbbf24;
            color: #fcd34d;
            font-weight: 700;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }

        @media (max-width: 768px) {
            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar-container">
        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="/" class="flex items-center space-x-2">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gray-200 to-gray-400 glow-grey flex items-center justify-center font-bold text-xl" style="color: #1f2937;">
                        F
                    </div>
                    <span class="text-2xl font-bold gradient-text">FinanceU</span>
                </a>

                <div class="flex items-center space-x-6">
                    <a href="/" class="text-gray-400 hover:text-gray-200 transition-colors font-medium">Home</a>
                    <a href="/dashboard" class="text-gray-400 hover:text-gray-200 transition-colors font-medium">Dashboard</a>
                </div>

                <div class="flex items-center space-x-4">
                    <button onclick="logout()" class="btn-3d px-6 py-2.5 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-lg font-semibold glow-grey transition-all" style="color: #1f2937;">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-6 pt-32 pb-20 max-w-4xl relative z-10">
        <!-- Back Link -->
        <a href="/path3-lessons" class="inline-flex items-center text-gray-400 hover:text-gray-200 transition-colors mb-8 font-medium">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            Back to Path 3 Lessons
        </a>

        <!-- Lesson Header -->
        <div class="text-center mb-16">
            <div class="inline-block px-4 py-2 bg-purple-500/20 border border-purple-500/30 rounded-full text-purple-400 font-bold text-sm mb-4">
                PATH 3 • LESSON 2
            </div>
            <h1 class="text-5xl md:text-6xl font-black mb-4 text-gray-200">
                How Credit Cards <span class="purple-accent">Actually Work</span>
            </h1>
            <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                The mechanics behind statements, due dates, interest, and autopay
            </p>
        </div>

        <!-- Section 1: Interactive Credit Card -->
        <section class="lesson-section visible" id="section1">
            <div class="glass-card">
                <h2 class="text-3xl font-bold mb-6 text-gray-200">Your Credit Card: A Closer Look</h2>
                <p class="text-gray-300 text-lg mb-8 leading-relaxed">
                    Before we dive into how credit cards work, let's look at a typical credit card. This isn't just a piece of plastic - it's a <strong>30-day loan that renews every month</strong>.
                </p>

                <div class="credit-card mb-6" onclick="flipCard()">
                    <div style="position: relative; z-index: 1;">
                        <div class="flex justify-between items-start mb-8">
                            <div class="text-sm font-semibold opacity-80">VISA</div>
                            <div class="text-xs opacity-60">
                                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                                </svg>
                            </div>
                        </div>
                        <div class="mb-6">
                            <svg width="50" height="40" viewBox="0 0 50 40" fill="none">
                                <rect x="5" y="10" width="30" height="22" rx="3" fill="rgba(255,255,255,0.2)" stroke="white" stroke-width="1.5"/>
                                <circle cx="25" cy="15" r="3" fill="rgba(255,255,255,0.3)"/>
                                <line x1="15" y1="24" x2="25" y2="24" stroke="white" stroke-width="1.5"/>
                            </svg>
                        </div>
                        <div class="text-2xl font-bold tracking-wider mb-4">4532  ••••  ••••  8901</div>
                        <div class="flex justify-between items-end">
                            <div>
                                <div class="text-xs opacity-60 mb-1">CARDHOLDER</div>
                                <div class="font-semibold">YOUR NAME HERE</div>
                            </div>
                            <div>
                                <div class="text-xs opacity-60 mb-1">VALID THRU</div>
                                <div class="font-semibold">12/28</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-purple-500/10 border border-purple-500/30 rounded-xl p-4">
                        <div class="text-sm text-gray-400 mb-1">Credit Limit</div>
                        <div class="text-2xl font-bold text-purple-400">$3,000</div>
                    </div>
                    <div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-4">
                        <div class="text-sm text-gray-400 mb-1">Current Balance</div>
                        <div class="text-2xl font-bold text-blue-400">$450</div>
                    </div>
                    <div class="bg-green-500/10 border border-green-500/30 rounded-xl p-4">
                        <div class="text-sm text-gray-400 mb-1">Available Credit</div>
                        <div class="text-2xl font-bold text-green-400">$2,550</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: The Billing Cycle Timeline -->
        <section class="lesson-section" id="section2">
            <div class="glass-card">
                <h2 class="text-3xl font-bold mb-6 text-gray-200">The Billing Cycle: Your 30-Day Journey</h2>
                <p class="text-gray-300 text-lg mb-8 leading-relaxed">
                    Every credit card operates on a <strong>billing cycle</strong> - typically 30 days. Understanding this timeline is crucial to avoiding interest charges.
                </p>

                <div class="timeline" style="position: relative;">
                    <div class="timeline-line"></div>

                    <div class="timeline-item">
                        <div class="timeline-dot">1</div>
                        <div class="timeline-content">
                            <div class="text-lg font-bold text-purple-400 mb-2">Day 1: Billing Cycle Starts</div>
                            <p class="text-gray-300">Your new billing cycle begins. Any purchases made from this day forward will appear on your next statement.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot">15</div>
                        <div class="timeline-content">
                            <div class="text-lg font-bold text-blue-400 mb-2">Mid-Cycle: Keep Spending</div>
                            <p class="text-gray-300">You continue making purchases. Your balance grows, but you haven't received a bill yet. This is the "float" period.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot">30</div>
                        <div class="timeline-content">
                            <div class="text-lg font-bold text-yellow-400 mb-2">Day 30: Statement Closes</div>
                            <p class="text-gray-300"><strong>Critical moment!</strong> Your statement closes and a bill is generated. The balance on this date is what gets reported to credit bureaus.</p>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-dot">54</div>
                        <div class="timeline-content">
                            <div class="text-lg font-bold text-red-400 mb-2">Day 54: Payment Due Date</div>
                            <p class="text-gray-300"><strong>Must pay by today!</strong> You have ~21-25 days after statement closes to pay. Pay in full to avoid interest. Miss this date and you'll pay late fees + interest.</p>
                        </div>
                    </div>
                </div>

                <div class="mt-8 p-6 bg-green-500/10 border border-green-500/30 rounded-xl">
                    <h4 class="font-bold text-green-400 mb-3 text-lg flex items-center gap-2">
                        <span class="inline-flex items-center justify-center w-7 h-7 rounded-lg bg-green-500/30 border-2 border-green-500/50">
                            <svg class="w-4 h-4 text-green-400" fill="currentColor" viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
                                <circle cx="12" cy="12" r="3" fill="currentColor"/>
                            </svg>
                        </span> Grace Period Magic
                    </h4>
                    <p class="text-gray-300 leading-relaxed">
                        If you pay your <strong>statement balance in full</strong> by the due date, you pay ZERO interest. This is called the <strong>grace period</strong> - essentially 50+ days of free money if you pay attention!
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 3: Interactive Statement -->
        <section class="lesson-section" id="section3">
            <div class="glass-card">
                <h2 class="text-3xl font-bold mb-6 text-gray-200">Reading Your Statement</h2>
                <p class="text-gray-300 text-lg mb-6 leading-relaxed">
                    Your monthly statement has critical information. <strong>Click each item to learn more:</strong>
                </p>

                <div class="statement-item" onclick="toggleStatement(0)">
                    <div class="flex justify-between items-center">
                        <span class="font-semibold text-gray-200">Statement Balance: $450.00</span>
                        <svg class="w-5 h-5 text-purple-400 transition-transform" style="transform: rotate(0deg);" data-arrow="0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="statement-details">
                        <p class="text-gray-300 text-sm"><strong>This is the golden number!</strong> Pay this amount by the due date to avoid all interest charges. This is the total of all transactions from your billing cycle.</p>
                    </div>
                </div>

                <div class="statement-item" onclick="toggleStatement(1)">
                    <div class="flex justify-between items-center">
                        <span class="font-semibold text-gray-200">Minimum Payment: $25.00</span>
                        <svg class="w-5 h-5 text-purple-400 transition-transform" style="transform: rotate(0deg);" data-arrow="1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="statement-details">
                        <p class="text-gray-300 text-sm"><strong>THE TRAP!</strong> This is the minimum you must pay to avoid late fees. BUT - if you only pay the minimum, you'll be charged interest on the remaining balance. This is how people get stuck in debt.</p>
                        <div class="mt-2 p-3 bg-red-500/20 border border-red-500/40 rounded-lg">
                            <p class="text-red-300 text-xs font-semibold">⚠ Warning: Paying only the minimum on a $450 balance at 24% APR would take 2+ years and cost $170+ in interest!</p>
                        </div>
                    </div>
                </div>

                <div class="statement-item" onclick="toggleStatement(2)">
                    <div class="flex justify-between items-center">
                        <span class="font-semibold text-gray-200">Due Date: January 24, 2026</span>
                        <svg class="w-5 h-5 text-purple-400 transition-transform" style="transform: rotate(0deg);" data-arrow="2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="statement-details">
                        <p class="text-gray-300 text-sm">Mark this date! Miss it by even one day and you'll face: <strong>(1) Late fee ($25-40)</strong>, <strong>(2) Interest on entire balance</strong>, <strong>(3) Potential credit score damage</strong>. Set up autopay or calendar reminders!</p>
                    </div>
                </div>

                <div class="statement-item" onclick="toggleStatement(3)">
                    <div class="flex justify-between items-center">
                        <span class="font-semibold text-gray-200">APR: 24.99%</span>
                        <svg class="w-5 h-5 text-purple-400 transition-transform" style="transform: rotate(0deg);" data-arrow="3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="statement-details">
                        <p class="text-gray-300 text-sm"><strong>Annual Percentage Rate</strong> - this is your interest rate. 24.99% means if you carry a $1,000 balance for a year, you'd pay ~$250 in interest. But it compounds monthly, so it's actually worse! The good news: pay in full = no interest.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Interest Calculator -->
        <section class="lesson-section" id="section4">
            <div class="glass-card">
                <h2 class="text-3xl font-bold mb-6 text-gray-200">The True Cost of Interest</h2>
                <p class="text-gray-300 text-lg mb-6 leading-relaxed">
                    Interest is how credit card companies make money. Let's see how quickly it adds up when you only pay the minimum.
                </p>

                <div class="calculator">
                    <div class="mb-6">
                        <label class="block text-gray-200 font-semibold mb-3">Balance: $<span id="balanceValue">1000</span></label>
                        <input type="range" min="100" max="5000" value="1000" step="100" class="slider" id="balanceSlider" oninput="updateCalculator()">
                    </div>

                    <div class="mb-6">
                        <label class="block text-gray-200 font-semibold mb-3">APR: <span id="aprValue">24</span>%</label>
                        <input type="range" min="15" max="30" value="24" step="1" class="slider" id="aprSlider" oninput="updateCalculator()">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
                        <div class="bg-green-500/20 border-2 border-green-500/40 rounded-xl p-6 text-center">
                            <div class="text-sm text-gray-300 mb-2">Pay in Full</div>
                            <div class="text-4xl font-black text-green-400 mb-1">$0</div>
                            <div class="text-xs text-gray-400">Interest Paid</div>
                        </div>

                        <div class="bg-red-500/20 border-2 border-red-500/40 rounded-xl p-6 text-center">
                            <div class="text-sm text-gray-300 mb-2">Minimum Payments Only</div>
                            <div class="text-4xl font-black text-red-400 mb-1" id="interestCost">$250</div>
                            <div class="text-xs text-gray-400">Interest Paid Over <span id="monthsToPayoff">24</span> Months</div>
                        </div>
                    </div>

                    <div class="mt-6 p-4 bg-black/30 rounded-xl">
                        <p class="text-gray-300 text-sm leading-relaxed">
                            <strong class="text-yellow-400">Reality check:</strong> Making only minimum payments on a $<span id="balanceDisplay">1000</span> balance means you'll pay $<span id="totalPaid">1250</span> total - that's <span id="extraPercent">25</span>% more than you borrowed!
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Payment Strategies -->
        <section class="lesson-section" id="section5">
            <div class="glass-card">
                <h2 class="text-3xl font-bold mb-6 text-gray-200">Payment Strategies: Good vs. Dangerous</h2>

                <div class="comparison-grid">
                    <div class="comparison-card bad">
                        <div class="w-12 h-12 mb-3 rounded-xl bg-red-500/30 flex items-center justify-center border-2 border-red-500/50">
                            <svg class="w-7 h-7 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-red-400 mb-3">Dangerous: Minimum Payments</h3>
                        <ul class="space-y-2 text-gray-300 text-sm">
                            <li class="flex items-start gap-2">
                                <span class="text-red-400">→</span>
                                <span>Takes <strong>years</strong> to pay off debt</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-red-400">→</span>
                                <span>Interest charges compound monthly</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-red-400">→</span>
                                <span>Can pay <strong>2-3x</strong> the original amount</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-red-400">→</span>
                                <span>High credit utilization hurts score</span>
                            </li>
                        </ul>
                    </div>

                    <div class="comparison-card good">
                        <div class="w-12 h-12 mb-3 rounded-xl bg-green-500/30 flex items-center justify-center border-2 border-green-500/50">
                            <svg class="w-7 h-7 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-green-400 mb-3">Smart: Pay in Full</h3>
                        <ul class="space-y-2 text-gray-300 text-sm">
                            <li class="flex items-start gap-2">
                                <span class="text-green-400">→</span>
                                <span><strong>Zero interest</strong> ever</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-400">→</span>
                                <span>Build credit while using bank's money free</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-400">→</span>
                                <span>Keep utilization low</span>
                            </li>
                            <li class="flex items-start gap-2">
                                <span class="text-green-400">→</span>
                                <span>Earn rewards without paying for them</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="mt-8 p-6 bg-purple-500/10 border border-purple-500/30 rounded-xl">
                    <h4 class="font-bold text-purple-400 mb-3">The Golden Rule</h4>
                    <p class="text-gray-300 leading-relaxed">
                        <strong>Never charge more than you can pay off that month.</strong> Treat your credit card like a debit card - if you don't have the money in your bank account, don't buy it on credit. Simple rule, but it keeps you out of debt forever.
                    </p>
                </div>
            </div>
        </section>

        <!-- Section 6: Autopay Setup -->
        <section class="lesson-section" id="section6">
            <div class="glass-card">
                <h2 class="text-3xl font-bold mb-6 text-gray-200">Autopay: Your Safety Net</h2>
                <p class="text-gray-300 text-lg mb-6 leading-relaxed">
                    Even responsible people forget payments. <strong>Autopay</strong> ensures you never miss a due date. But there's a right way and a wrong way to set it up.
                </p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                    <div class="bg-red-500/10 border-2 border-red-500/30 rounded-xl p-6 text-center cursor-pointer transition-all hover:border-red-500/50" onclick="selectAutopay(0)">
                        <div class="mb-4">
                            <label class="toggle-switch">
                                <input type="radio" name="autopay" id="autopay0">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="font-bold text-gray-200 mb-2">Minimum Payment</div>
                        <p class="text-gray-400 text-sm">Avoids late fees but you'll pay interest</p>
                    </div>

                    <div class="bg-yellow-500/10 border-2 border-yellow-500/30 rounded-xl p-6 text-center cursor-pointer transition-all hover:border-yellow-500/50" onclick="selectAutopay(1)">
                        <div class="mb-4">
                            <label class="toggle-switch">
                                <input type="radio" name="autopay" id="autopay1">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="font-bold text-gray-200 mb-2">Fixed Amount</div>
                        <p class="text-gray-400 text-sm">Predictable but may not cover full balance</p>
                    </div>

                    <div class="bg-green-500/10 border-2 border-green-500/30 rounded-xl p-6 text-center cursor-pointer transition-all hover:border-green-500/50" onclick="selectAutopay(2)">
                        <div class="mb-4">
                            <label class="toggle-switch">
                                <input type="radio" name="autopay" id="autopay2" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="font-bold text-gray-200 mb-2">Statement Balance</div>
                        <p class="text-gray-400 text-sm">BEST: Pays in full automatically, zero interest</p>
                    </div>
                </div>

                <div id="autopayFeedback" class="p-6 bg-green-500/20 border-2 border-green-500/40 rounded-xl">
                    <div class="flex items-start gap-3">
                        <div class="w-8 h-8 rounded-full bg-green-500/30 flex items-center justify-center flex-shrink-0">
                            <svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <div>
                            <div class="font-bold text-green-400 mb-2">Perfect Choice!</div>
                            <p class="text-gray-300 text-sm">Setting autopay to <strong>statement balance</strong> means you'll never pay interest and never miss a payment. Just make sure you have enough money in your checking account before the due date!</p>
                        </div>
                    </div>
                </div>

                <div class="mt-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl">
                    <div class="flex items-start gap-2">
                        <span class="inline-flex items-center justify-center w-6 h-6 rounded-full bg-yellow-500/30 border border-yellow-500/50 flex-shrink-0">
                            <span class="text-yellow-400 text-sm font-bold">!</span>
                        </span>
                        <p class="text-gray-300 text-sm">
                            <strong>Pro Tip:</strong> Even with autopay, check your statement monthly. Look for fraudulent charges, subscriptions you forgot about, and opportunities to optimize your spending.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 7: Visual Calendar -->
        <section class="lesson-section" id="section7">
            <div class="glass-card">
                <h2 class="text-3xl font-bold mb-6 text-gray-200">Your Payment Calendar</h2>
                <p class="text-gray-300 text-lg mb-6 leading-relaxed">
                    Visualizing your billing cycle helps you understand when things happen. Here's a typical month:
                </p>

                <div class="calendar">
                    <div class="calendar-day header">Sun</div>
                    <div class="calendar-day header">Mon</div>
                    <div class="calendar-day header">Tue</div>
                    <div class="calendar-day header">Wed</div>
                    <div class="calendar-day header">Thu</div>
                    <div class="calendar-day header">Fri</div>
                    <div class="calendar-day header">Sat</div>

                    <div class="calendar-day">1</div>
                    <div class="calendar-day">2</div>
                    <div class="calendar-day">3</div>
                    <div class="calendar-day">4</div>
                    <div class="calendar-day">5</div>
                    <div class="calendar-day">6</div>
                    <div class="calendar-day">7</div>
                    <div class="calendar-day">8</div>
                    <div class="calendar-day">9</div>
                    <div class="calendar-day">10</div>
                    <div class="calendar-day">11</div>
                    <div class="calendar-day">12</div>
                    <div class="calendar-day">13</div>
                    <div class="calendar-day">14</div>
                    <div class="calendar-day">15</div>
                    <div class="calendar-day">16</div>
                    <div class="calendar-day">17</div>
                    <div class="calendar-day">18</div>
                    <div class="calendar-day">19</div>
                    <div class="calendar-day">20</div>
                    <div class="calendar-day">21</div>
                    <div class="calendar-day">22</div>
                    <div class="calendar-day">23</div>
                    <div class="calendar-day due-date" title="Payment Due Date">24<br><span style="font-size: 10px;">DUE</span></div>
                    <div class="calendar-day">25</div>
                    <div class="calendar-day">26</div>
                    <div class="calendar-day">27</div>
                    <div class="calendar-day">28</div>
                    <div class="calendar-day">29</div>
                    <div class="calendar-day statement-close" title="Statement Closes">30<br><span style="font-size: 10px;">CLOSE</span></div>
                    <div class="calendar-day">31</div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                    <div class="flex items-center gap-3 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl">
                        <div class="w-4 h-4 bg-yellow-500/40 border border-yellow-500/50 rounded"></div>
                        <span class="text-gray-300 text-sm"><strong>Day 30:</strong> Statement closes - balance reported to bureaus</span>
                    </div>
                    <div class="flex items-center gap-3 p-4 bg-red-500/10 border border-red-500/30 rounded-xl">
                        <div class="w-4 h-4 bg-red-500/40 border border-red-500/50 rounded"></div>
                        <span class="text-gray-300 text-sm"><strong>Day 24 (next month):</strong> Payment due - pay in full!</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 8: Quiz -->
        <section class="lesson-section" id="section8">
            <div class="glass-card">
                <div class="text-center mb-8">
                    <div class="inline-block px-4 py-2 bg-purple-500/20 border border-purple-500/30 rounded-full text-purple-400 font-bold text-sm mb-4">
                        KNOWLEDGE CHECK
                    </div>
                    <h2 class="text-3xl font-bold text-gray-200 mb-3">Test Your Understanding</h2>
                    <p class="text-gray-400">Answer all questions correctly to complete this lesson</p>
                </div>

                <div id="quizQuestions" class="space-y-6">
                    <!-- Questions will be inserted here -->
                </div>

                <button id="submitQuiz" onclick="submitQuiz()" class="w-full btn-3d px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 rounded-xl font-bold text-white text-lg mt-8 transition-all" disabled>
                    Submit Quiz
                </button>

                <div id="quizResult" class="mt-6 hidden"></div>
            </div>
        </section>

        <!-- Navigation Buttons -->
        <div class="flex justify-between items-center mt-12">
            <button onclick="previousSection()" id="prevBtn" class="btn-3d px-8 py-3 bg-gray-700 hover:bg-gray-600 rounded-xl font-bold text-white transition-all" style="visibility: hidden;">
                ← Previous
            </button>
            <div class="text-gray-400 text-sm">
                Section <span id="currentSection">1</span> of 8
            </div>
            <button onclick="nextSection()" id="nextBtn" class="btn-3d px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 rounded-xl font-bold text-white transition-all">
                Next →
            </button>
        </div>
    </main>

    <script src="config.js"></script>
    <script>
        // Section navigation
        let currentSection = 1;
        const totalSections = 8;

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
            document.getElementById('currentSection').textContent = currentSection;

            document.getElementById('prevBtn').style.visibility = currentSection === 1 ? 'hidden' : 'visible';
            document.getElementById('nextBtn').style.display = currentSection === totalSections ? 'none' : 'block';

            document.querySelectorAll('.lesson-section').forEach((section, index) => {
                if (index + 1 === currentSection) {
                    section.classList.add('visible');
                } else {
                    section.classList.remove('visible');
                }
            });
        }

        function nextSection() {
            if (currentSection < totalSections) {
                currentSection++;
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        function previousSection() {
            if (currentSection > 1) {
                currentSection--;
                updateProgress();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Interactive statement
        function toggleStatement(index) {
            const items = document.querySelectorAll('.statement-item');
            const item = items[index];
            const arrow = document.querySelector(`[data-arrow="${index}"]`);

            item.classList.toggle('expanded');

            if (item.classList.contains('expanded')) {
                arrow.style.transform = 'rotate(180deg)';
            } else {
                arrow.style.transform = 'rotate(0deg)';
            }
        }

        // Interest calculator
        function updateCalculator() {
            const balance = parseInt(document.getElementById('balanceSlider').value);
            const apr = parseInt(document.getElementById('aprSlider').value);

            document.getElementById('balanceValue').textContent = balance;
            document.getElementById('aprValue').textContent = apr;

            const monthlyRate = apr / 100 / 12;
            const minPaymentPercent = 0.02;
            let remainingBalance = balance;
            let totalInterest = 0;
            let months = 0;

            while (remainingBalance > 0 && months < 300) {
                const interest = remainingBalance * monthlyRate;
                let payment = Math.max(remainingBalance * minPaymentPercent, 25);

                if (payment > remainingBalance + interest) {
                    payment = remainingBalance + interest;
                }

                totalInterest += interest;
                remainingBalance = remainingBalance + interest - payment;
                months++;
            }

            document.getElementById('interestCost').textContent = '$' + Math.round(totalInterest);
            document.getElementById('monthsToPayoff').textContent = months;
            document.getElementById('balanceDisplay').textContent = balance;
            document.getElementById('totalPaid').textContent = balance + Math.round(totalInterest);
            document.getElementById('extraPercent').textContent = Math.round((totalInterest / balance) * 100);
        }

        // Autopay selection
        function selectAutopay(index) {
            document.getElementById('autopay' + index).checked = true;

            const feedback = document.getElementById('autopayFeedback');
            const messages = [
                {
                    type: 'warning',
                    title: 'Not Recommended',
                    message: 'Minimum payment autopay will keep you out of late fees, but you\'ll still pay interest every month. This can trap you in debt for years.',
                    color: 'red'
                },
                {
                    type: 'caution',
                    title: 'Be Careful',
                    message: 'Fixed amount autopay is better than minimum, but if your balance is higher than the fixed amount, you\'ll still pay interest. Make sure the amount covers your typical spending.',
                    color: 'yellow'
                },
                {
                    type: 'success',
                    title: 'Perfect Choice!',
                    message: 'Setting autopay to statement balance means you\'ll never pay interest and never miss a payment. Just make sure you have enough money in your checking account before the due date!',
                    color: 'green'
                }
            ];

            const msg = messages[index];
            feedback.className = `p-6 bg-${msg.color}-500/20 border-2 border-${msg.color}-500/40 rounded-xl`;
            feedback.innerHTML = `
                <div class="flex items-start gap-3">
                    <div class="w-8 h-8 rounded-full bg-${msg.color}-500/30 flex items-center justify-center flex-shrink-0">
                        ${index === 2 ? '<svg class="w-5 h-5 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>' : '<span class="text-' + msg.color + '-400 text-sm font-bold">!</span>'}
                    </div>
                    <div>
                        <div class="font-bold text-${msg.color}-400 mb-2">${msg.title}</div>
                        <p class="text-gray-300 text-sm">${msg.message}</p>
                    </div>
                </div>
            `;
        }

        // Quiz
        const quizQuestions = [
            {
                question: "What should you pay to avoid ALL interest charges?",
                options: [
                    "Minimum payment",
                    "Statement balance in full",
                    "Half of your balance",
                    "Whatever you can afford"
                ],
                correct: 1
            },
            {
                question: "When does your billing cycle typically close?",
                options: [
                    "On your payment due date",
                    "On the 1st of every month",
                    "About 21-25 days BEFORE your payment due date",
                    "It varies randomly each month"
                ],
                correct: 2
            },
            {
                question: "What is the grace period?",
                options: [
                    "Extra time after you miss a payment",
                    "The time between statement closing and due date where you pay no interest if you pay in full",
                    "A feature only premium cards have",
                    "The time it takes for charges to appear"
                ],
                correct: 1
            },
            {
                question: "What's the danger of only paying the minimum?",
                options: [
                    "Nothing - minimum payment is fine",
                    "You'll be charged interest on the remaining balance",
                    "Your card will be closed immediately",
                    "Your credit limit will decrease"
                ],
                correct: 1
            },
            {
                question: "What's the best autopay setting?",
                options: [
                    "Minimum payment",
                    "A fixed amount you choose",
                    "Statement balance (full amount)",
                    "Don't use autopay"
                ],
                correct: 2
            }
        ];

        let selectedAnswers = {};

        function renderQuiz() {
            const container = document.getElementById('quizQuestions');
            container.innerHTML = quizQuestions.map((q, qIndex) => `
                <div class="mb-8">
                    <h3 class="text-lg font-bold text-gray-200 mb-4">${qIndex + 1}. ${q.question}</h3>
                    <div class="space-y-3">
                        ${q.options.map((option, oIndex) => `
                            <div class="quiz-option" onclick="selectAnswer(${qIndex}, ${oIndex})">
                                <div class="w-6 h-6 rounded-full border-2 border-gray-400 flex items-center justify-center flex-shrink-0">
                                    <div class="w-3 h-3 rounded-full bg-purple-500 hidden answer-indicator"></div>
                                </div>
                                <span class="text-gray-300">${option}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function selectAnswer(questionIndex, answerIndex) {
            selectedAnswers[questionIndex] = answerIndex;

            const questionDiv = document.querySelectorAll('#quizQuestions > div')[questionIndex];
            const options = questionDiv.querySelectorAll('.quiz-option');

            options.forEach((option, index) => {
                option.classList.remove('selected');
                const indicator = option.querySelector('.answer-indicator');
                indicator.classList.add('hidden');

                if (index === answerIndex) {
                    option.classList.add('selected');
                    indicator.classList.remove('hidden');
                }
            });

            document.getElementById('submitQuiz').disabled = Object.keys(selectedAnswers).length !== quizQuestions.length;
        }

        function submitQuiz() {
            let correct = 0;

            quizQuestions.forEach((q, qIndex) => {
                const questionDiv = document.querySelectorAll('#quizQuestions > div')[qIndex];
                const options = questionDiv.querySelectorAll('.quiz-option');

                options.forEach((option, oIndex) => {
                    if (oIndex === q.correct) {
                        option.classList.add('correct');
                    } else if (oIndex === selectedAnswers[qIndex]) {
                        option.classList.add('incorrect');
                    }
                });

                if (selectedAnswers[qIndex] === q.correct) {
                    correct++;
                }
            });

            const percentage = (correct / quizQuestions.length) * 100;
            const resultDiv = document.getElementById('quizResult');

            if (percentage === 100) {
                resultDiv.innerHTML = `
                    <div class="bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-2 border-green-500/40 rounded-xl p-6 text-center">
                        <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-green-400 to-emerald-500 flex items-center justify-center shadow-lg shadow-green-500/50">
                            <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-green-400 mb-2">Perfect Score!</h3>
                        <p class="text-gray-300 mb-4">You got ${correct}/${quizQuestions.length} correct. You've mastered Lesson 2!</p>
                        <button onclick="completeLesson()" class="btn-3d px-8 py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 rounded-xl font-bold text-white transition-all">
                            Complete Lesson →
                        </button>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="bg-gradient-to-r from-red-500/20 to-rose-500/20 border-2 border-red-500/40 rounded-xl p-6 text-center">
                        <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center shadow-lg shadow-red-500/50">
                            <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-red-400 mb-2">Not Quite Yet</h3>
                        <p class="text-gray-300 mb-4">You got ${correct}/${quizQuestions.length} correct. Review the lesson and try again!</p>
                        <button onclick="location.reload()" class="btn-3d px-8 py-3 bg-gray-700 hover:bg-gray-600 rounded-xl font-bold text-white transition-all">
                            Review Lesson
                        </button>
                    </div>
                `;
            }

            resultDiv.classList.remove('hidden');
            document.getElementById('submitQuiz').disabled = true;
        }

        function completeLesson() {
            const userId = localStorage.getItem('userId');
            if (!userId) {
                window.location.href = '/path3-lessons';
                return;
            }

            const completed = JSON.parse(localStorage.getItem(`path3_completed_${userId}`) || '[]');
            if (!completed.includes(2)) {
                completed.push(2);
                localStorage.setItem(`path3_completed_${userId}`, JSON.stringify(completed));
            }

            localStorage.setItem(`lesson2_quiz_passed_${userId}`, 'true');

            fetch(`${API_URL}/progress/path3-lesson2`, {
                method: 'POST',
                credentials: 'include',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ completed: true, score: 100 })
            }).then(() => {
                window.location.href = '/path3-lessons';
            }).catch(() => {
                window.location.href = '/path3-lessons';
            });
        }

        async function logout() {
            localStorage.removeItem('authState');
            localStorage.removeItem('token');
            localStorage.removeItem('userId');
            try {
                await fetch(`${API_URL}/auth/logout`, { method: 'POST', credentials: 'include' });
            } catch (error) {}
            window.location.href = '/index.html';
        }

        // Initialize
        updateProgress();
        renderQuiz();
        updateCalculator();
        selectAutopay(2);
    </script>
</body>
</html>
