<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 2 - Checking Accounts - FinanceU</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: #0f0f0f;
            overflow-x: hidden;
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #e5e7eb 0%, #9ca3af 50%, #e5e7eb 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 5s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Navigation */
        .nav-blur {
            backdrop-filter: blur(12px);
            background: rgba(15, 15, 15, 0.9);
            border-bottom: 1px solid rgba(156, 163, 175, 0.15);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        /* Progress bar */
        .progress-container {
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(31, 41, 55, 0.8);
            z-index: 40;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #3b82f6);
            background-size: 200% 100%;
            transition: width 0.5s ease;
            animation: shimmer 2s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 0%; }
            50% { background-position: 100% 0%; }
        }

        /* Floating particles */
        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.2;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(180deg); }
        }

        /* 3D Button Effect */
        .btn-3d {
            transform-style: preserve-3d;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .btn-3d:hover {
            transform: translateY(-4px) translateZ(10px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4), 0 16px 32px rgba(0, 0, 0, 0.3), 0 0 40px rgba(209, 213, 219, 0.2);
        }

        /* Content cards */
        .content-card {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.4s ease;
        }

        .content-card:hover {
            transform: translateY(-8px);
            border-color: rgba(59, 130, 246, 0.6);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(59, 130, 246, 0.2);
        }

        /* Interactive card - clickable */
        .interactive-card {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .interactive-card:hover {
            transform: translateY(-8px);
            border-color: rgba(59, 130, 246, 0.6);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(59, 130, 246, 0.2);
        }

        .interactive-card.revealed {
            border-color: rgba(16, 185, 129, 0.8);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(16, 185, 129, 0.3);
        }

        .card-front, .card-back {
            transition: opacity 0.3s ease;
        }

        .card-back {
            display: none;
            opacity: 0;
        }

        .interactive-card.revealed .card-front {
            display: none;
        }

        .interactive-card.revealed .card-back {
            display: block;
            opacity: 1;
            animation: fadeIn 0.5s ease;
        }

        .click-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(59, 130, 246, 0.3);
            color: #60a5fa;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Stat card */
        .stat-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(59, 130, 246, 0.3);
        }

        /* Warning card */
        .warning-card {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(239, 68, 68, 0.3);
        }

        /* Success card */
        .success-card {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(16, 185, 129, 0.3);
        }

        /* Debit card */
        .debit-card {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #1e40af 100%);
            perspective: 1000px;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .debit-card:hover {
            transform: rotateY(10deg) rotateX(5deg);
        }

        /* Quiz option */
        .quiz-option {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.8) 0%, rgba(17, 24, 39, 0.9) 100%);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .quiz-option:hover {
            border-color: rgba(59, 130, 246, 0.6);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        .quiz-option.selected {
            border-color: rgba(59, 130, 246, 0.8);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        .quiz-option.correct {
            border-color: rgba(16, 185, 129, 0.8);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        .quiz-option.incorrect {
            border-color: rgba(239, 68, 68, 0.8);
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Fade in animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Flow arrow */
        .flow-arrow {
            color: #3b82f6;
            font-size: 2rem;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        /* Glow effects */
        .glow-blue {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4), 0 0 40px rgba(59, 130, 246, 0.2);
        }

        .glow-green {
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4), 0 0 40px rgba(16, 185, 129, 0.2);
        }

        .glow-red {
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4), 0 0 40px rgba(239, 68, 68, 0.2);
        }
    </style>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });
    </script>
</head>
<body class="min-h-screen relative" style="color: #d1d5db;">
    <!-- Floating Particles -->
    <div id="particles-container" style="position: fixed; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; z-index: 1;"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="/" class="flex items-center space-x-2">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gray-200 to-gray-400 glow-blue flex items-center justify-center font-bold text-xl" style="color: #1f2937;">
                        F
                    </div>
                    <span class="text-2xl font-bold gradient-text">FinanceU</span>
                </a>

                <div class="hidden md:flex items-center space-x-6">
                    <a href="/" class="text-gray-400 hover:text-gray-200 transition-colors font-medium">Home</a>
                    <a href="/dashboard" class="text-gray-400 hover:text-gray-200 transition-colors font-medium">Dashboard</a>
                </div>

                <div class="flex items-center space-x-4" id="authButtons">
                    <button onclick="logout()" class="btn-3d px-6 py-2.5 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-lg font-semibold glow-blue transition-all" style="color: #1f2937;">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
    </div>

    <!-- Main Content -->
    <section class="min-h-screen pt-32 pb-20 relative z-10">
        <div class="container mx-auto px-6 max-w-6xl">
            <!-- Back Button -->
            <a href="/path1-lessons" class="inline-flex items-center text-gray-400 hover:text-gray-200 transition-colors mb-8 font-medium">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Back to Path 1 Lessons
            </a>

            <!-- Lesson Header -->
            <div class="text-center mb-16 fade-in">
                <div class="inline-block px-4 py-2 rounded-full bg-blue-500/20 border border-blue-500/40 text-blue-400 font-bold text-sm mb-4">
                    LESSON 2
                </div>
                <h1 class="text-5xl md:text-6xl font-black mb-4 text-gray-200">
                    <span class="gradient-text">Checking Accounts</span>
                </h1>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                    Your daily money hub - learn how to use it like a pro
                </p>
            </div>

            <!-- Section 1: Introduction -->
            <div id="section1" class="mb-24 fade-in">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                    <div class="content-card rounded-3xl p-8">
                        <h2 class="text-3xl font-bold text-gray-200 mb-6">Your Daily Money Hub</h2>
                        <p class="text-gray-300 mb-4 leading-relaxed">
                            Think of your checking account as your <strong class="text-blue-400">financial command center</strong>. This is where your money lives while it's in motion‚Äîgetting paid, paying bills, buying stuff.
                        </p>
                        <div class="mt-6 p-4 rounded-xl bg-blue-500/10 border border-blue-500/30">
                            <p class="text-gray-300 text-sm">
                                <strong class="text-blue-400">Checking vs. Savings:</strong> Checking is for action and spending. Savings is for growth and goals. Keep them separate!
                            </p>
                        </div>
                    </div>

                    <div class="stat-card rounded-3xl p-8 flex flex-col items-center justify-center text-center">
                        <div class="text-7xl font-black text-blue-400 mb-4">93%</div>
                        <p class="text-xl text-gray-300 font-semibold">of Americans have a checking account</p>
                        <p class="text-gray-400 mt-4 text-sm">It's the foundation of managing money in the modern world</p>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Continue Learning ‚Üí
                    </button>
                </div>
            </div>

            <!-- Section 2: What Makes Checking Special -->
            <div id="section2" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-8 text-center">What Makes Checking Special?</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                    <div class="space-y-6">
                        <div class="content-card rounded-3xl p-6">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 rounded-xl bg-blue-500/20 border-2 border-blue-500/40 flex items-center justify-center flex-shrink-0">
                                    <svg class="w-6 h-6 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-200 mb-2">Unlimited Transactions</h3>
                                    <p class="text-gray-400 text-sm">Use it as much as you want‚Äîno limits on spending or withdrawals</p>
                                </div>
                            </div>
                        </div>

                        <div class="content-card rounded-3xl p-6">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 rounded-xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center flex-shrink-0">
                                    <svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-200 mb-2">Debit Card Access</h3>
                                    <p class="text-gray-400 text-sm">Instant purchases anywhere cards are accepted</p>
                                </div>
                            </div>
                        </div>

                        <div class="content-card rounded-3xl p-6">
                            <div class="flex items-start gap-4">
                                <div class="w-12 h-12 rounded-xl bg-purple-500/20 border-2 border-purple-500/40 flex items-center justify-center flex-shrink-0">
                                    <svg class="w-6 h-6 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-200 mb-2">Bill Pay & Auto-Pay</h3>
                                    <p class="text-gray-400 text-sm">Set it and forget it‚Äînever miss a payment</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-center justify-center">
                        <div class="debit-card w-full max-w-sm h-56 rounded-2xl p-6 flex flex-col justify-between shadow-2xl">
                            <div class="flex justify-between items-start">
                                <div class="text-white text-sm font-semibold">DEBIT</div>
                                <svg class="w-10 h-10 text-white opacity-70" fill="currentColor" viewBox="0 0 24 24">
                                    <circle cx="9" cy="12" r="7" opacity="0.7"/>
                                    <circle cx="15" cy="12" r="7"/>
                                </svg>
                            </div>
                            <div>
                                <div class="text-white text-2xl font-mono mb-4 tracking-wider">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4242</div>
                                <div class="flex justify-between">
                                    <div>
                                        <div class="text-white text-xs opacity-70 mb-1">CARD HOLDER</div>
                                        <div class="text-white text-sm font-semibold">YOUR NAME</div>
                                    </div>
                                    <div>
                                        <div class="text-white text-xs opacity-70 mb-1">EXPIRES</div>
                                        <div class="text-white text-sm font-semibold">12/28</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Continue ‚Üí
                    </button>
                </div>
            </div>

            <!-- Section 3: Money Flow -->
            <div id="section3" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-8 text-center">How Money Flows</h2>
                <p class="text-center text-gray-400 mb-12 max-w-2xl mx-auto">Understanding the movement of money through your checking account</p>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                    <div class="content-card rounded-3xl p-6 text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                            <svg class="w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-green-400 mb-3">Money In</h3>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li>Paycheck</li>
                            <li>Side hustles</li>
                            <li>Refunds</li>
                        </ul>
                    </div>

                    <div class="content-card rounded-3xl p-6 text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-red-500/20 border-2 border-red-500/40 flex items-center justify-center">
                            <svg class="w-8 h-8 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-red-400 mb-3">Bills Out</h3>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li>Rent</li>
                            <li>Utilities</li>
                            <li>Subscriptions</li>
                        </ul>
                    </div>

                    <div class="content-card rounded-3xl p-6 text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-blue-500/20 border-2 border-blue-500/40 flex items-center justify-center">
                            <svg class="w-8 h-8 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-blue-400 mb-3">Daily Spending</h3>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li>Food & groceries</li>
                            <li>Gas</li>
                            <li>Shopping</li>
                        </ul>
                    </div>

                    <div class="content-card rounded-3xl p-6 text-center">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-purple-500/20 border-2 border-purple-500/40 flex items-center justify-center">
                            <svg class="w-8 h-8 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-purple-400 mb-3">Transfers</h3>
                        <ul class="text-gray-300 text-sm space-y-1">
                            <li>To savings</li>
                            <li>To investments</li>
                            <li>To friends</li>
                        </ul>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Continue ‚Üí
                    </button>
                </div>
            </div>

            <!-- Section 4: Common Mistakes -->
            <div id="section4" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-8 text-center">Watch Out For These</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                    <div class="warning-card rounded-3xl p-8 glow-red">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-16 h-16 rounded-2xl bg-red-500/20 border-2 border-red-500/40 flex items-center justify-center">
                                <svg class="w-8 h-8 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold text-red-400">Overdrafts</h3>
                                <p class="text-red-300 text-sm">Danger Zone</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">
                            Spending more money than you have = <strong class="text-red-400">$35 fee per transaction</strong>. Buy coffee for $5 with $0 in your account? That's a $40 coffee.
                        </p>
                        <div class="p-4 rounded-xl bg-red-500/10 border border-red-500/30">
                            <p class="text-gray-300 text-sm">
                                <strong class="text-red-400">Pro Tip:</strong> Track your balance daily and set up low balance alerts!
                            </p>
                        </div>
                    </div>

                    <div class="warning-card rounded-3xl p-8 glow-red">
                        <div class="flex items-center gap-4 mb-6">
                            <div class="w-16 h-16 rounded-2xl bg-orange-500/20 border-2 border-orange-500/40 flex items-center justify-center">
                                <svg class="w-8 h-8 text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold text-orange-400">Monthly Fees</h3>
                                <p class="text-orange-300 text-sm">Sneaky Charges</p>
                            </div>
                        </div>
                        <p class="text-gray-300 mb-4">
                            Some banks charge <strong class="text-orange-400">$12-$15/month</strong> unless you meet certain requirements (like minimum balance or direct deposit).
                        </p>
                        <div class="p-4 rounded-xl bg-orange-500/10 border border-orange-500/30">
                            <p class="text-gray-300 text-sm">
                                <strong class="text-orange-400">Pro Tip:</strong> Look for banks with no monthly fees or easy-to-meet requirements!
                            </p>
                        </div>
                    </div>
                </div>

                <h3 class="text-2xl font-bold text-gray-200 mb-6 text-center mt-16">Test Your Knowledge: Click Each Scenario</h3>
                <p class="text-center text-gray-400 mb-8">See what happens in real-world situations</p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <div class="interactive-card rounded-3xl p-6 text-center" onclick="revealCard(this)">
                        <span class="click-indicator">Click Me</span>
                        <div class="card-front">
                            <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-blue-500/20 border-2 border-blue-500/40 flex items-center justify-center">
                                <i data-lucide="coffee" class="w-8 h-8 text-amber-600"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-200 mb-2">Scenario 1</h3>
                            <p class="text-gray-400 text-sm">Your balance: $10<br>You buy a $5 coffee</p>
                        </div>
                        <div class="card-back">
                            <div class="mb-3 flex justify-center">
                                <i data-lucide="check-circle-2" class="w-10 h-10 text-green-400"></i>
                            </div>
                            <p class="text-green-400 font-bold mb-2">Safe!</p>
                            <p class="text-gray-300 text-sm mb-2">New balance: $5</p>
                            <p class="text-gray-400 text-xs">You had enough money. Transaction approved!</p>
                        </div>
                    </div>

                    <div class="interactive-card rounded-3xl p-6 text-center" onclick="revealCard(this)">
                        <span class="click-indicator">Click Me</span>
                        <div class="card-front">
                            <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-yellow-500/20 border-2 border-yellow-500/40 flex items-center justify-center">
                                <i data-lucide="pizza" class="w-8 h-8 text-orange-500"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-200 mb-2">Scenario 2</h3>
                            <p class="text-gray-400 text-sm">Your balance: $3<br>You order $20 pizza</p>
                        </div>
                        <div class="card-back">
                            <div class="mb-3 flex justify-center">
                                <i data-lucide="alert-triangle" class="w-10 h-10 text-yellow-500"></i>
                            </div>
                            <p class="text-red-400 font-bold mb-2">Overdraft!</p>
                            <p class="text-gray-300 text-sm mb-2">Cost: $20 + $35 fee = $55</p>
                            <p class="text-gray-400 text-xs">That pizza just cost you nearly 3x more!</p>
                        </div>
                    </div>

                    <div class="interactive-card rounded-3xl p-6 text-center" onclick="revealCard(this)">
                        <span class="click-indicator">Click Me</span>
                        <div class="card-front">
                            <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-purple-500/20 border-2 border-purple-500/40 flex items-center justify-center">
                                <i data-lucide="smartphone" class="w-8 h-8 text-blue-400"></i>
                            </div>
                            <h3 class="text-lg font-bold text-gray-200 mb-2">Scenario 3</h3>
                            <p class="text-gray-400 text-sm">Your balance: $150<br>Netflix charges $15</p>
                        </div>
                        <div class="card-back">
                            <div class="mb-3 flex justify-center">
                                <i data-lucide="check-circle-2" class="w-10 h-10 text-green-400"></i>
                            </div>
                            <p class="text-green-400 font-bold mb-2">No Problem!</p>
                            <p class="text-gray-300 text-sm mb-2">New balance: $135</p>
                            <p class="text-gray-400 text-xs">Automatic payments are fine when you have buffer money!</p>
                        </div>
                    </div>
                </div>

                <div class="content-card rounded-3xl p-6 text-center">
                    <p class="text-gray-300 flex items-start gap-2 justify-center">
                        <i data-lucide="lightbulb" class="w-5 h-5 text-yellow-400 flex-shrink-0 mt-1"></i>
                        <span><span class="text-blue-400 font-bold">Key takeaway:</span> Always know your balance BEFORE you spend. That $5 coffee can become a $40 mistake.</span>
                    </p>
                </div>

                <div class="text-center mt-12">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Continue ‚Üí
                    </button>
                </div>
            </div>

            <!-- Section 5: Smart Habits -->
            <div id="section5" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-8 text-center">Smart Checking Habits</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                    <div class="success-card rounded-3xl p-6">
                        <div class="w-12 h-12 mb-4 rounded-xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                            <i data-lucide="smartphone" class="w-6 h-6 text-blue-400"></i>
                        </div>
                        <h3 class="text-lg font-bold text-green-400 mb-2">Check Daily</h3>
                        <p class="text-gray-300 text-sm">Make it part of your morning routine‚Äîcheck your balance before coffee</p>
                    </div>

                    <div class="success-card rounded-3xl p-6">
                        <div class="w-12 h-12 mb-4 rounded-xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                            <i data-lucide="dollar-sign" class="w-6 h-6 text-green-400"></i>
                        </div>
                        <h3 class="text-lg font-bold text-green-400 mb-2">Keep a Buffer</h3>
                        <p class="text-gray-300 text-sm">Always keep $100-$200 extra as a safety cushion</p>
                    </div>

                    <div class="success-card rounded-3xl p-6">
                        <div class="w-12 h-12 mb-4 rounded-xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                            <i data-lucide="bell" class="w-6 h-6 text-blue-400"></i>
                        </div>
                        <h3 class="text-lg font-bold text-green-400 mb-2">Set Alerts</h3>
                        <p class="text-gray-300 text-sm">Low balance, large purchases, and deposits‚Äîget notified instantly</p>
                    </div>

                    <div class="success-card rounded-3xl p-6">
                        <div class="w-12 h-12 mb-4 rounded-xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                            <i data-lucide="refresh-cw" class="w-6 h-6 text-blue-400"></i>
                        </div>
                        <h3 class="text-lg font-bold text-green-400 mb-2">Auto-Transfer</h3>
                        <p class="text-gray-300 text-sm">Move money to savings automatically after each paycheck</p>
                    </div>

                    <div class="success-card rounded-3xl p-6">
                        <div class="w-12 h-12 mb-4 rounded-xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                            <span class="text-2xl">üìä</span>
                        </div>
                        <h3 class="text-lg font-bold text-green-400 mb-2">Review Monthly</h3>
                        <p class="text-gray-300 text-sm">Check statements for forgotten subscriptions or errors</p>
                    </div>

                    <div class="success-card rounded-3xl p-6">
                        <div class="w-12 h-12 mb-4 rounded-xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                            <span class="text-2xl">‚è≥</span>
                        </div>
                        <h3 class="text-lg font-bold text-green-400 mb-2">Track Pending</h3>
                        <p class="text-gray-300 text-sm">Remember: pending transactions haven't hit your account yet!</p>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Take the Quiz ‚Üí
                    </button>
                </div>
            </div>

            <!-- Section 6: Quiz -->
            <div id="section6" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">Lesson Quiz</h2>
                <p class="text-center text-gray-400 mb-12">Answer all questions correctly to complete the lesson (You need 100%)</p>

                <div id="quizContainer" class="space-y-6 mb-12"></div>

                <div class="text-center">
                    <button id="submitQuizBtn" onclick="submitQuiz()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Submit Quiz
                    </button>
                </div>

                <div id="quizResult" class="hidden mt-12"></div>

                <div id="finishSection" class="text-center mt-12 hidden">
                    <button onclick="finishLesson()" class="btn-3d px-10 py-5 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 rounded-xl font-bold text-white text-xl glow-green flex items-center justify-center gap-2" style="margin: 0 auto;">
                        Finish Lesson
                        <i data-lucide="check" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <script src="config.js"></script>
    <script src="lesson-completion.js"></script>
    <script>
        // Floating particles
        function createParticles() {
            const container = document.getElementById('particles-container');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';

                const size = Math.random() * 4 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.background = `rgba(156, 163, 175, ${Math.random() * 0.5 + 0.2})`;
                particle.style.animation = `float ${Math.random() * 10 + 10}s ease-in-out infinite`;
                particle.style.animationDelay = `${Math.random() * 5}s`;

                container.appendChild(particle);
            }
        }

        createParticles();

        // Card reveal interaction
        function revealCard(card) {
            card.classList.add('revealed');
            const indicator = card.querySelector('.click-indicator');
            if (indicator) {
                indicator.style.display = 'none';
            }
        }

        // Navigation
        let currentSection = 1;
        const totalSections = 6;

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function nextSection() {
            document.getElementById(`section${currentSection}`).classList.add('hidden');
            currentSection++;
            document.getElementById(`section${currentSection}`).classList.remove('hidden');
            document.getElementById(`section${currentSection}`).classList.add('fade-in');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Quiz data
        const quizQuestions = [
            {
                question: "You have $200 in your checking account. You buy groceries for $45 (pending), gas for $30 (pending), and your gym charges $25 (will process tomorrow). Your app shows $200 available. How much can you safely spend?",
                options: [
                    "$200 - that's what the app shows",
                    "$100 - account for all pending and upcoming charges",
                    "$155 - subtract only the pending charges",
                    "$170 - subtract only the processed charges"
                ],
                correct: 1
            },
            {
                question: "Your bank charges a $12 monthly fee unless you maintain a $1,500 minimum balance OR have direct deposit. What's the smartest long-term strategy?",
                options: [
                    "Keep exactly $1,500 in checking at all times",
                    "Pay the $12 fee and keep your money in savings earning interest",
                    "Set up direct deposit and keep a buffer above $0",
                    "Switch between accounts each month to avoid the fee"
                ],
                correct: 2
            },
            {
                question: "You're at a store and your debit card is declined, but you know you have money. What's the MOST likely reason?",
                options: [
                    "The bank is closed for the day",
                    "You have pending transactions that haven't cleared yet",
                    "Someone stole all your money",
                    "Your card expired last month"
                ],
                correct: 1
            },
            {
                question: "Which scenario represents the BEST use of a checking account vs. a savings account?",
                options: [
                    "Keep all your money in checking for easy access",
                    "Keep $500 in checking for monthly expenses, rest in savings earning interest",
                    "Keep all money in savings and transfer as needed",
                    "Split everything 50/50 between checking and savings"
                ],
                correct: 1
            },
            {
                question: "You set up automatic bill pay for your $100 phone bill on the 15th, but your paycheck doesn't arrive until the 16th. You have $80 in your account. What will likely happen?",
                options: [
                    "The bill will be delayed until the 16th automatically",
                    "You'll be charged an overdraft fee (~$35) for being -$20",
                    "The phone company will wait for your paycheck",
                    "The payment will be canceled with no consequences"
                ],
                correct: 1
            }
        ];

        let userAnswers = new Array(quizQuestions.length).fill(null);
        let quizPassed = false;

        function initQuiz() {
            const userId = localStorage.getItem('userId');
            if (!userId || userId === 'null' || userId === 'undefined') {
                return;
            }

            const quizPassedStatus = localStorage.getItem(`lesson2_quiz_passed_${userId}`);
            if (quizPassedStatus === 'true') {
                quizPassed = true;
                document.getElementById('quizContainer').innerHTML = '<div class="content-card rounded-3xl p-8 text-center"><p class="text-green-400 text-xl font-bold flex items-center justify-center gap-2"><i data-lucide="check-circle" class="w-6 h-6"></i> Quiz Already Completed</p></div>';
                lucide.createIcons();
                document.getElementById('submitQuizBtn').classList.add('hidden');
                document.getElementById('finishSection').classList.remove('hidden');
                return;
            }

            renderQuiz();
        }

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';

            quizQuestions.forEach((q, qIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'content-card quiz-question-card rounded-3xl p-8';
                questionDiv.setAttribute('data-question', qIndex);
                questionDiv.innerHTML = `
                    <h3 class="text-xl font-bold text-gray-200 mb-6">Question ${qIndex + 1}: ${q.question}</h3>
                    <div class="space-y-3">
                        ${q.options.map((option, oIndex) => `
                            <div class="quiz-option rounded-xl p-4" onclick="selectAnswer(${qIndex}, ${oIndex})">
                                <input type="radio" name="question${qIndex}" value="${oIndex}" class="mr-3">
                                <span class="text-gray-300">${option}</span>
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function selectAnswer(questionIndex, optionIndex) {
            userAnswers[questionIndex] = optionIndex;

            const questionCard = document.querySelector(`.quiz-question-card[data-question="${questionIndex}"]`);
            const options = questionCard.querySelectorAll('.quiz-option');
            options.forEach((opt, idx) => {
                opt.classList.remove('selected');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                    opt.querySelector('input').checked = true;
                }
            });
        }

        function submitQuiz() {
            if (userAnswers.includes(null)) {
                alert('Please answer all questions before submitting.');
                return;
            }

            let correct = 0;
            quizQuestions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    correct++;
                }
            });

            const passed = correct === quizQuestions.length;

            // Show correct/incorrect
            document.querySelectorAll('.quiz-question-card').forEach((card, qIndex) => {
                const options = card.querySelectorAll('.quiz-option');
                options.forEach((opt, oIndex) => {
                    opt.style.pointerEvents = 'none';
                    if (oIndex === quizQuestions[qIndex].correct) {
                        opt.classList.add('correct');
                    } else if (oIndex === userAnswers[qIndex] && oIndex !== quizQuestions[qIndex].correct) {
                        opt.classList.add('incorrect');
                    }
                });
            });

            const resultDiv = document.getElementById('quizResult');
            if (passed) {
                quizPassed = true;
                const userId = localStorage.getItem('userId');
                localStorage.setItem(`lesson2_quiz_passed_${userId}`, 'true');

                resultDiv.innerHTML = `
                    <div class="content-card rounded-3xl p-10 text-center glow-green">
                        <div class="mb-4 flex justify-center">
                            <i data-lucide="party-popper" class="w-16 h-16 text-green-400"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-green-400 mb-4">Perfect Score!</h3>
                        <p class="text-gray-300 text-lg mb-2">You scored ${correct} out of ${quizQuestions.length} (100%)</p>
                        <p class="text-gray-400">Great job! You can now finish the lesson.</p>
                    </div>
                `;
                lucide.createIcons();
                document.getElementById('finishSection').classList.remove('hidden');
            } else {
                resultDiv.innerHTML = `
                    <div class="content-card rounded-3xl p-10 text-center" style="border-color: rgba(239, 68, 68, 0.6);">
                        <div class="mb-4 flex justify-center">
                            <i data-lucide="book-open" class="w-16 h-16 text-blue-400"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-red-400 mb-4">Not quite there yet</h3>
                        <p class="text-gray-300 text-lg mb-2">You scored ${correct} out of ${quizQuestions.length}</p>
                        <p class="text-gray-400 mb-6">You need 100% to pass. Review and try again!</p>
                        <button onclick="retryQuiz()" class="btn-3d px-8 py-4 bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 rounded-xl font-bold text-white text-lg">
                            Retry Quiz
                        </button>
                    </div>
                `;
                lucide.createIcons();
            }

            resultDiv.classList.remove('hidden');
            document.getElementById('submitQuizBtn').classList.add('hidden');
        }

        function retryQuiz() {
            userAnswers = new Array(quizQuestions.length).fill(null);
            renderQuiz();
            document.getElementById('quizResult').classList.add('hidden');
            document.getElementById('submitQuizBtn').classList.remove('hidden');
            window.scrollTo({ top: document.getElementById('quizContainer').offsetTop - 100, behavior: 'smooth' });
        }

        async function finishLesson() {
            if (!quizPassed) {
                alert('Please complete the quiz first!');
                return;
            }

            const success = await completeLesson('path1_lesson2', 1, 2);
            if (success) {
                window.location.href = 'path1-lessons.html';
            }
        }

        // Logout
        async function logout() {
            localStorage.removeItem('authState');
            localStorage.removeItem('token');
            localStorage.removeItem('userId');
            try {
                await fetch(`${API_URL}/auth/logout`, {
                    method: 'POST',
                    credentials: 'include'
                });
                window.location.href = '/index.html';
            } catch (error) {
                console.error('Logout error:', error);
                window.location.href = '/index.html';
            }
        }

        // Initialize
        updateProgress();
        initQuiz();
    </script>
</body>
</html>
