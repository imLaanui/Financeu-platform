<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 5 - Setting Financial Goals - FinanceU</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="icon" type="image/svg+xml" sizes="16x16" href="assets/favicon-16x16.svg">
    <link rel="icon" type="image/svg+xml" sizes="32x32" href="assets/favicon-32x32.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.svg">
    <link rel="stylesheet" href="styles.css">
    <style>
        .lesson-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        .lesson-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #0A1A2F 0%, #1a3a5c 100%);
            border-radius: 16px;
            position: relative;
            overflow: hidden;
        }
        .lesson-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .lesson-header h1 {
            font-size: 32px;
            color: white;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }
        .lesson-header .lesson-number {
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 5px;
            position: relative;
            z-index: 1;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .lesson-section {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: all 0.3s ease;
        }
        .lesson-section:hover {
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }
        .lesson-section h2 {
            color: var(--primary-color);
            font-size: 24px;
            margin-bottom: 15px;
        }
        .lesson-section p {
            line-height: 1.6;
            color: var(--text-secondary);
            margin-bottom: 12px;
            font-size: 16px;
        }
        .btn-finish {
            display: block;
            width: 100%;
            max-width: 400px;
            margin: 30px auto;
            padding: 18px;
            background: var(--primary-color);
            color: white;
            text-align: center;
            text-decoration: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }
        .btn-finish:hover {
            background: #2563eb;
            transform: scale(1.02);
        }
        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.2s;
        }
        .back-link:hover {
            transform: translateX(-5px);
        }
        .quiz-container {
            background: linear-gradient(135deg, #0A1A2F15 0%, #00A67615 100%);
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
        }
        .quiz-header {
            text-align: center;
            margin-bottom: 25px;
        }
        .quiz-header h2 {
            color: var(--primary-color);
            font-size: 26px;
            margin-bottom: 10px;
        }
        .quiz-header p {
            color: var(--text-secondary);
            font-size: 15px;
        }
        .question-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .question-text {
            font-size: 17px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
        }
        .answer-option {
            background: #f9fafb;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .answer-option:hover {
            border-color: var(--primary-color);
            background: #eff6ff;
            transform: translateX(5px);
        }
        .answer-option.selected {
            border-color: var(--primary-color);
            background: #dbeafe;
        }
        .answer-option.correct {
            border-color: #10b981;
            background: #d1fae5;
        }
        .answer-option.incorrect {
            border-color: #dc2626;
            background: #fee2e2;
        }
        .btn-submit-quiz {
            display: block;
            width: 100%;
            max-width: 300px;
            margin: 20px auto;
            padding: 15px;
            background: var(--primary-color);
            color: white;
            text-align: center;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-submit-quiz:hover {
            background: #2563eb;
            transform: scale(1.05);
        }
        .btn-submit-quiz:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: scale(1);
        }
        .quiz-result {
            background: white;
            padding: 25px;
            border-radius: 8px;
            text-align: center;
            margin-top: 20px;
        }
        .quiz-result.pass {
            border: 3px solid #10b981;
        }
        .quiz-result.fail {
            border: 3px solid #dc2626;
        }
        .result-icon {
            font-size: 48px;
            margin-bottom: 15px;
            animation: bounce 0.6s ease;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .result-text {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .result-score {
            font-size: 18px;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }
        .btn-retry {
            padding: 12px 24px;
            background: #f59e0b;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-retry:hover {
            background: #d97706;
            transform: scale(1.05);
        }
        .btn-finish:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* Multi-screen styles */
        .lesson-screen {
            display: none;
        }
        .lesson-screen.active {
            display: block;
            animation: fadeIn 0.4s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .screen-progress {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px 20px;
            background: linear-gradient(135deg, #0A1A2F15 0%, #00A67615 100%);
            border-radius: 8px;
            font-weight: 600;
            color: var(--primary-color);
            font-size: 14px;
        }
        .screen-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 15px;
            margin-top: 25px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
        }
        .btn-nav {
            padding: 12px 24px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .btn-nav:hover {
            background: #2563eb;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        .btn-nav:disabled {
            background: #d1d5db;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .btn-nav.btn-prev {
            background: #6b7280;
        }
        .btn-nav.btn-prev:hover {
            background: #4b5563;
        }
        .nav-spacer {
            width: 120px;
        }

        /* Checkpoint styles */
        .checkpoint-container {
            background: linear-gradient(135deg, #E0F2FE 0%, #BAE6FD 100%);
            border: 2px solid #7DD3FC;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }
        .checkpoint-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .checkpoint-header h3 {
            color: #0284C7;
            font-size: 24px;
            margin-bottom: 8px;
        }
        .checkpoint-header p {
            color: var(--text-secondary);
            font-size: 14px;
        }
        .checkpoint-question {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .checkpoint-question-text {
            font-size: 17px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
        }
        .checkpoint-option {
            background: #f9fafb;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .checkpoint-option:hover {
            border-color: #0284C7;
            background: #F0F9FF;
            transform: translateX(5px);
        }
        .checkpoint-option.selected {
            border-color: #0284C7;
            background: #E0F2FE;
        }
        .checkpoint-option.correct {
            border-color: #10b981;
            background: #d1fae5;
            cursor: default;
        }
        .checkpoint-option.incorrect {
            border-color: #dc2626;
            background: #fee2e2;
            cursor: default;
        }
        .checkpoint-option input[type="radio"] {
            cursor: pointer;
        }
        .checkpoint-feedback {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            display: none;
        }
        .checkpoint-feedback.show {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }
        .checkpoint-feedback.correct {
            border-left: 4px solid #10b981;
        }
        .checkpoint-feedback.incorrect {
            border-left: 4px solid #f59e0b;
        }
        .checkpoint-feedback-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        .checkpoint-feedback-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .checkpoint-feedback.correct .checkpoint-feedback-title {
            color: #10b981;
        }
        .checkpoint-feedback.incorrect .checkpoint-feedback-title {
            color: #f59e0b;
        }
        .checkpoint-explanation {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-top: 10px;
            font-size: 14px;
        }
        .btn-continue {
            display: none;
            width: 100%;
            max-width: 300px;
            margin: 20px auto;
            padding: 15px;
            background: var(--primary-color);
            color: white;
            text-align: center;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-continue.show {
            display: block;
        }
        .btn-continue:hover {
            background: #2563eb;
            transform: scale(1.05);
        }

        /* SCREEN 1: Animated Icons */
        .intro-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        .intro-card {
            background: linear-gradient(135deg, #0A1A2F15 0%, #00A67615 100%);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        .intro-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: var(--primary-color);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
        }
        .intro-card-icon {
            font-size: 48px;
            margin-bottom: 10px;
            animation: float 3s ease-in-out infinite;
        }
        .intro-card:nth-child(2) .intro-card-icon {
            animation-delay: 1s;
        }
        .intro-card:nth-child(3) .intro-card-icon {
            animation-delay: 2s;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .intro-card h3 {
            color: var(--primary-color);
            font-size: 18px;
            margin-bottom: 8px;
            font-weight: 700;
        }
        .intro-card p {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.5;
            margin: 0;
        }

        /* SCREEN 2: Interactive Goal Setting */
        .goal-input-box {
            background: linear-gradient(135deg, #10b98115 0%, #d1fae530 100%);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }
        .goal-input-title {
            color: #10b981;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }
        .goal-input-group {
            margin-bottom: 15px;
        }
        .goal-input-group label {
            display: block;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 5px;
            font-size: 14px;
        }
        .goal-input-group input, .goal-input-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.2s;
        }
        .goal-input-group input:focus, .goal-input-group textarea:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        .goal-result {
            background: white;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
            border: 2px solid #e5e7eb;
            display: none;
        }
        .goal-result.show {
            display: block;
        }
        .goal-result-label {
            font-size: 14px;
            color: var(--text-secondary);
            margin-bottom: 5px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .goal-result-value {
            font-size: 28px;
            font-weight: 700;
            color: #10b981;
            margin-bottom: 10px;
        }

        /* SCREEN 4: Visual Timeline Chart */
        .timeline-chart {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }
        .timeline-item {
            margin-bottom: 20px;
        }
        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .timeline-label {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .timeline-value {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 14px;
        }
        .timeline-bar {
            height: 60px;
            background: #f3f4f6;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }
        .timeline-fill {
            height: 100%;
            border-radius: 8px;
            transition: width 1s ease-out;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: 600;
        }
        .timeline-short {
            background: linear-gradient(90deg, #10b981 0%, #059669 100%);
        }
        .timeline-medium {
            background: linear-gradient(90deg, #f59e0b 0%, #d97706 100%);
        }
        .timeline-long {
            background: linear-gradient(90deg, #0A1A2F 0%, #00A676 100%);
        }

        /* SCREEN 6: Animated Mistake Cards */
        .mistakes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .mistake-card {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border: 2px solid #dc2626;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
        }
        .mistake-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 8px 20px rgba(220, 38, 38, 0.2);
        }
        .mistake-icon {
            font-size: 40px;
            margin-bottom: 10px;
            animation: shake 2s ease-in-out infinite;
        }
        .mistake-card:nth-child(2) .mistake-icon {
            animation-delay: 0.4s;
        }
        .mistake-card:nth-child(3) .mistake-icon {
            animation-delay: 0.8s;
        }
        .mistake-card:nth-child(4) .mistake-icon {
            animation-delay: 1.2s;
        }
        .mistake-card:nth-child(5) .mistake-icon {
            animation-delay: 1.6s;
        }
        @keyframes shake {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }
        .mistake-title {
            font-weight: 700;
            color: #dc2626;
            font-size: 14px;
            margin-bottom: 8px;
        }
        .mistake-desc {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        /* SCREEN 7: Interactive Checklist */
        .action-checklist {
            background: linear-gradient(135deg, #10b98115 0%, #d1fae530 100%);
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }
        .checklist-title {
            color: #10b981;
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }
        .checklist-item {
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.3s;
            cursor: pointer;
        }
        .checklist-item:hover {
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.2);
            transform: translateX(5px);
        }
        .checklist-item.checked {
            background: #d1fae5;
            opacity: 0.7;
        }
        .checklist-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #10b981;
            border-radius: 6px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            transition: all 0.3s;
        }
        .checklist-item.checked .checklist-checkbox {
            background: #10b981;
            color: white;
        }
        .checklist-text {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
        }
        .reflection-box {
            background: linear-gradient(135deg, #f59e0b15 0%, #fef3c730 100%);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        .reflection-icon {
            font-size: 40px;
            margin-bottom: 10px;
        }
        .reflection-title {
            color: #f59e0b;
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .reflection-text {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-wrapper">
                <div class="logo"><a href="/" style="color: inherit; text-decoration: none;">Finance<span class="logo-accent">U</span></a></div>
                <ul class="nav-links">
                    <li><a href="/">Home</a></li>
                    <li><a href="dashboard">Dashboard</a></li>
                    <li id="authButtons" style="opacity: 0;">
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Lesson Content -->
    <div class="lesson-container">
        <a href="/pillar1-lessons" class="back-link">‚Üê Back to Pillar 1 Lessons</a>

        <!-- Header -->
        <div class="lesson-header">
            <div class="lesson-number">PILLAR 1: LESSON 5</div>
            <h1>Setting Financial Goals</h1>
        </div>

        <!-- Screen 1: Quick Intro with Animated Icons -->
        <div class="lesson-screen active" data-screen="1">
            <div class="screen-progress">Screen 1 of 8</div>
            <div class="lesson-section">
                <h2>Why Goal Setting Matters</h2>
                <div class="intro-cards">
                    <div class="intro-card">
                        <div class="intro-card-icon">üòï</div>
                        <h3>The Problem</h3>
                        <p>"I want to save money" is too vague and leads to zero progress</p>
                    </div>
                    <div class="intro-card">
                        <div class="intro-card-icon"><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="24" cy="24" r="20" fill="#FEF3C7"/>
        <circle cx="24" cy="20" r="6" fill="#F59E0B" opacity="0.3"/>
        <path d="M24 14 C28 14 30 16 30 20 C30 23 28 25 27 26 L27 30 L21 30 L21 26 C20 25 18 23 18 20 C18 16 20 14 24 14" stroke="#F59E0B" stroke-width="2"/>
        <line x1="20" y1="32" x2="28" y2="32" stroke="#F59E0B" stroke-width="2" stroke-linecap="round"/>
    </svg></div>
                        <h3>The Solution</h3>
                        <p>SMART goals turn wishes into concrete, achievable financial milestones</p>
                    </div>
                    <div class="intro-card">
                        <div class="intro-card-icon"><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="24" cy="24" r="20" fill="#DBEAFE"/>
        <circle cx="24" cy="24" r="14" stroke="#3B82F6" stroke-width="2" fill="none"/>
        <circle cx="24" cy="24" r="8" stroke="#3B82F6" stroke-width="2" fill="none"/>
        <circle cx="24" cy="24" r="3" fill="#3B82F6"/>
    </svg></div>
                        <h3>Your Goal</h3>
                        <p>Learn to create specific financial targets that actually work</p>
                    </div>
                </div>
            </div>
            <div class="screen-navigation">
                <div class="nav-spacer"></div>
                <button class="btn-nav" onclick="nextScreen()">Next <span>‚Üí</span></button>
            </div>
        </div>

        <!-- Screen 2: Interactive Goal Builder -->
        <div class="lesson-screen" data-screen="2">
            <div class="screen-progress">Screen 2 of 8</div>
            <div class="lesson-section">
                <h2>The SMART Goals Framework</h2>
                <p style="text-align: center; font-size: 18px; font-weight: 700; color: var(--primary-color); margin-bottom: 20px;">
                    Specific ‚Ä¢ Measurable ‚Ä¢ Achievable ‚Ä¢ Relevant ‚Ä¢ Time-bound
                </p>

                <div class="goal-input-box">
                    <div class="goal-input-title">Build Your SMART Goal</div>
                    <div class="goal-input-group">
                        <label>What do you want to save for? (Specific)</label>
                        <input type="text" id="goalName" placeholder="e.g., Emergency fund">
                    </div>
                    <div class="goal-input-group">
                        <label>How much? (Measurable - $)</label>
                        <input type="number" id="goalAmount" placeholder="e.g., 1000">
                    </div>
                    <div class="goal-input-group">
                        <label>By when? (Time-bound - months)</label>
                        <input type="number" id="goalMonths" placeholder="e.g., 12">
                    </div>
                    <button class="btn-nav" onclick="calculateGoal()" style="margin: 15px auto; display: block;">Calculate</button>

                    <div class="goal-result" id="goalResult">
                        <div class="goal-result-label">You need to save</div>
                        <div class="goal-result-value" id="goalValue">$0</div>
                        <div class="goal-result-label" id="goalMessage">per month to reach your goal</div>
                    </div>
                </div>

                <p style="margin-top: 20px; font-weight: 600; text-align: center;">Three Timeline Types:</p>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 15px;">
                    <div style="text-align: center; padding: 15px; background: #d1fae5; border-radius: 8px;">
                        <div style="font-size: 24px; margin-bottom: 5px;">üìÖ</div>
                        <div style="font-weight: 700; color: #059669;">Short-term</div>
                        <div style="font-size: 12px;">0-1 year</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #fef3c7; border-radius: 8px;">
                        <div style="font-size: 24px; margin-bottom: 5px;">üìÜ</div>
                        <div style="font-weight: 700; color: #d97706;">Medium-term</div>
                        <div style="font-size: 12px;">1-5 years</div>
                    </div>
                    <div style="text-align: center; padding: 15px; background: #e9d5ff; border-radius: 8px;">
                        <div style="font-size: 24px; margin-bottom: 5px;">üóìÔ∏è</div>
                        <div style="font-weight: 700; color: #0A1A2F;">Long-term</div>
                        <div style="font-size: 12px;">5+ years</div>
                    </div>
                </div>
            </div>
            <div class="screen-navigation">
                <button class="btn-nav btn-prev" onclick="previousScreen()"><span>‚Üê</span> Previous</button>
                <button class="btn-nav" onclick="nextScreen()">Next <span>‚Üí</span></button>
            </div>
        </div>

        <!-- Screen 3: Checkpoint Question 1 -->
        <div class="lesson-screen" data-screen="3">
            <div class="screen-progress">Screen 3 of 8</div>
            <div class="checkpoint-container">
                <div class="checkpoint-header">
                    <h3>‚úì Quick Check</h3>
                    <p>Test your understanding</p>
                </div>

                <div class="checkpoint-question">
                    <div class="checkpoint-question-text">What does the 'M' in SMART goals stand for?</div>
                    <div class="checkpoint-option" onclick="checkCheckpoint1(0)">
                        <input type="radio" name="checkpoint1" value="0">
                        <span>A) Meaningful</span>
                    </div>
                    <div class="checkpoint-option" onclick="checkCheckpoint1(1)">
                        <input type="radio" name="checkpoint1" value="1">
                        <span>B) Measurable</span>
                    </div>
                    <div class="checkpoint-option" onclick="checkCheckpoint1(2)">
                        <input type="radio" name="checkpoint1" value="2">
                        <span>C) Motivational</span>
                    </div>
                    <div class="checkpoint-option" onclick="checkCheckpoint1(3)">
                        <input type="radio" name="checkpoint1" value="3">
                        <span>D) Mandatory</span>
                    </div>
                </div>

                <div class="checkpoint-feedback" id="checkpoint1-feedback">
                    <div class="checkpoint-feedback-icon"></div>
                    <div class="checkpoint-feedback-title"></div>
                    <div class="checkpoint-explanation"></div>
                </div>

                <button class="btn-continue" id="checkpoint1-continue" onclick="nextScreen()">Continue <span>‚Üí</span></button>
            </div>
            <div class="screen-navigation">
                <button class="btn-nav btn-prev" onclick="previousScreen()"><span>‚Üê</span> Previous</button>
                <div class="nav-spacer"></div>
            </div>
        </div>

        <!-- Screen 4: Visual Timeline Examples -->
        <div class="lesson-screen" data-screen="4">
            <div class="screen-progress">Screen 4 of 8</div>
            <div class="lesson-section">
                <h2>Goal Timeline Examples</h2>
                <p style="text-align: center; margin-bottom: 20px;">See how different goals fit different timelines:</p>

                <div class="timeline-chart">
                    <div class="timeline-item">
                        <div class="timeline-header">
                            <div class="timeline-label">üìÖ Short-Term (0-1 year)</div>
                            <div class="timeline-value">Emergency Fund</div>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill timeline-short" style="width: 33%;">$500 saved ‚Ä¢ 3 months</div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-header">
                            <div class="timeline-label">üìÜ Medium-Term (1-5 years)</div>
                            <div class="timeline-value">Car Down Payment</div>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill timeline-medium" style="width: 60%;">$3,000 saved ‚Ä¢ 18 months</div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-header">
                            <div class="timeline-label">üóìÔ∏è Long-Term (5+ years)</div>
                            <div class="timeline-value">House Down Payment</div>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill timeline-long" style="width: 25%;">$15,000 saved ‚Ä¢ 5 years</div>
                        </div>
                    </div>
                </div>

                <p style="margin-top: 20px; text-align: center; font-style: italic; color: var(--text-secondary);">
                    Breaking big goals into monthly targets makes them feel achievable!
                </p>
            </div>
            <div class="screen-navigation">
                <button class="btn-nav btn-prev" onclick="previousScreen()"><span>‚Üê</span> Previous</button>
                <button class="btn-nav" onclick="nextScreen()">Next <span>‚Üí</span></button>
            </div>
        </div>

        <!-- Screen 5: Checkpoint Question 2 -->
        <div class="lesson-screen" data-screen="5">
            <div class="screen-progress">Screen 5 of 8</div>
            <div class="checkpoint-container">
                <div class="checkpoint-header">
                    <h3>‚úì Apply Your Knowledge</h3>
                    <p>What would you do in this situation?</p>
                </div>

                <div class="checkpoint-question">
                    <div class="checkpoint-question-text">Which is a SMART goal?</div>
                    <div class="checkpoint-option" onclick="checkCheckpoint2(0)">
                        <input type="radio" name="checkpoint2" value="0">
                        <span>A) I want to save money</span>
                    </div>
                    <div class="checkpoint-option" onclick="checkCheckpoint2(1)">
                        <input type="radio" name="checkpoint2" value="1">
                        <span>B) I'll save $500 by June 30 for vacation</span>
                    </div>
                    <div class="checkpoint-option" onclick="checkCheckpoint2(2)">
                        <input type="radio" name="checkpoint2" value="2">
                        <span>C) I'll try to save something</span>
                    </div>
                    <div class="checkpoint-option" onclick="checkCheckpoint2(3)">
                        <input type="radio" name="checkpoint2" value="3">
                        <span>D) I'll get rich someday</span>
                    </div>
                </div>

                <div class="checkpoint-feedback" id="checkpoint2-feedback">
                    <div class="checkpoint-feedback-icon"></div>
                    <div class="checkpoint-feedback-title"></div>
                    <div class="checkpoint-explanation"></div>
                </div>

                <button class="btn-continue" id="checkpoint2-continue" onclick="nextScreen()">Continue <span>‚Üí</span></button>
            </div>
            <div class="screen-navigation">
                <button class="btn-nav btn-prev" onclick="previousScreen()"><span>‚Üê</span> Previous</button>
                <div class="nav-spacer"></div>
            </div>
        </div>

        <!-- Screen 6: Common Mistakes -->
        <div class="lesson-screen" data-screen="6">
            <div class="screen-progress">Screen 6 of 8</div>
            <div class="lesson-section">
                <h2>Avoid These Mistakes</h2>
                <div class="mistakes-grid">
                    <div class="mistake-card">
                        <div class="mistake-icon"><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="24" cy="24" r="20" fill="#DBEAFE"/>
        <circle cx="24" cy="24" r="14" stroke="#3B82F6" stroke-width="2" fill="none"/>
        <circle cx="24" cy="24" r="8" stroke="#3B82F6" stroke-width="2" fill="none"/>
        <circle cx="24" cy="24" r="3" fill="#3B82F6"/>
    </svg></div>
                        <div class="mistake-title">Too Many Goals</div>
                        <div class="mistake-desc">Pick 1-3 priorities, not 10</div>
                    </div>
                    <div class="mistake-card">
                        <div class="mistake-icon">üöÄ</div>
                        <div class="mistake-title">Too Aggressive</div>
                        <div class="mistake-desc">Unrealistic goals lead to failure</div>
                    </div>
                    <div class="mistake-card">
                        <div class="mistake-icon"><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="24" cy="24" r="20" fill="#FCE7F3"/>
        <circle cx="24" cy="24" r="12" stroke="#EC4899" stroke-width="2" fill="none"/>
        <path d="M24 18 L24 24 L28 28" stroke="#EC4899" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg></div>
                        <div class="mistake-title">Only Long-Term</div>
                        <div class="mistake-desc">You need quick wins too</div>
                    </div>
                    <div class="mistake-card">
                        <div class="mistake-icon"><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="24" cy="24" r="20" fill="#EFF6FF"/>
        <rect x="12" y="18" width="24" height="16" rx="2" fill="#3B82F6" opacity="0.3"/>
        <rect x="12" y="18" width="24" height="16" rx="2" stroke="#3B82F6" stroke-width="2" fill="none"/>
        <rect x="12" y="21" width="24" height="4" fill="#3B82F6"/>
        <line x1="15" y1="29" x2="21" y2="29" stroke="#3B82F6" stroke-width="1.5" stroke-linecap="round"/>
    </svg></div>
                        <div class="mistake-title">Copying Others</div>
                        <div class="mistake-desc">Your goals should reflect YOUR values</div>
                    </div>
                    <div class="mistake-card">
                        <div class="mistake-icon"><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="24" cy="24" r="20" fill="#EFF6FF"/>
        <path d="M12 32 L16 28 L20 30 L24 22 L28 26 L32 18" stroke="#3B82F6" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
        <circle cx="16" cy="28" r="2" fill="#3B82F6"/>
        <circle cx="20" cy="30" r="2" fill="#3B82F6"/>
        <circle cx="24" cy="22" r="2" fill="#3B82F6"/>
        <circle cx="28" cy="26" r="2" fill="#3B82F6"/>
        <circle cx="32" cy="18" r="2" fill="#3B82F6"/>
    </svg></div>
                        <div class="mistake-title">No Progress Check</div>
                        <div class="mistake-desc">Review monthly and adjust</div>
                    </div>
                </div>
            </div>
            <div class="screen-navigation">
                <button class="btn-nav btn-prev" onclick="previousScreen()"><span>‚Üê</span> Previous</button>
                <button class="btn-nav" onclick="nextScreen()">Next <span>‚Üí</span></button>
            </div>
        </div>

        <!-- Screen 7: Interactive Checklist -->
        <div class="lesson-screen" data-screen="7">
            <div class="screen-progress">Screen 7 of 8</div>
            <div class="lesson-section">
                <div class="action-checklist">
                    <div class="checklist-title">üéØ Your Action Plan</div>
                    <p style="text-align: center; color: var(--text-secondary); margin-bottom: 15px; font-size: 14px;">
                        Complete this exercise now:
                    </p>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div class="checklist-text">Choose ONE financial goal that matters to you</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div class="checklist-text">Write down the specific amount needed</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div class="checklist-text">Set a realistic deadline (date)</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div class="checklist-text">Calculate how much to save per month</div>
                    </div>
                    <div class="checklist-item" onclick="toggleChecklistItem(this)">
                        <div class="checklist-checkbox"></div>
                        <div class="checklist-text">Put it somewhere visible (phone wallpaper, mirror)</div>
                    </div>
                </div>

                <div class="reflection-box">
                    <div class="reflection-icon">üí≠</div>
                    <div class="reflection-title">Quick Reflection</div>
                    <div class="reflection-text">
                        What's the one financial achievement that would make you feel most proud or relieved? That's probably where you should start.
                    </div>
                </div>
            </div>
            <div class="screen-navigation">
                <button class="btn-nav btn-prev" onclick="previousScreen()"><span>‚Üê</span> Previous</button>
                <button class="btn-nav" onclick="nextScreen()">Next <span>‚Üí</span></button>
            </div>
        </div>

        <!-- Screen 8: Quiz -->
        <div class="lesson-screen" data-screen="8">
            <div class="screen-progress">Screen 8 of 8</div>
            <!-- Lesson Quiz -->
            <div class="quiz-container" id="quizContainer">
                <div class="quiz-header">
                    <h2>Final Quiz</h2>
                    <p>Score 75% or higher to unlock the next lesson</p>
                </div>
                <div id="quizQuestions"></div>
                <button class="btn-submit-quiz" id="submitQuiz" onclick="submitQuiz()">Submit Quiz</button>
                <div id="quizResult"></div>
            </div>

            <!-- Finish Button -->
            <button class="btn-finish" id="finishBtn" onclick="finishLesson()" disabled>Finish Lesson</button>

            <div class="screen-navigation">
                <button class="btn-nav btn-prev" onclick="previousScreen()"><span>‚Üê</span> Previous</button>
                <div class="nav-spacer"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>FinanceU</h4>
                    <p>Making financial literacy accessible for everyone.</p>
                </div>
                <div class="footer-section">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="/about">About Us</a></li>
                        <li><a href="/careers">Careers</a></li>
                        <li><a href="/contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="/help">Help Center</a></li>
                        <li><a href="/privacy">Privacy Policy</a></li>
                        <li><a href="/terms">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 10px;">Disclaimer: FinanceU provides educational content only and does not offer financial, legal, or investment advice. Always consult with a qualified professional before making financial decisions.</p>
                <p>&copy; 2025 FinanceU. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="config.js"></script>
    <script src="lesson-completion.js"></script>
    <script src="animations.js"></script>
    <script>
        // Check authentication status and update nav
        async function updateNav() {
            const authButtons = document.getElementById('authButtons');

            // Check localStorage for cached auth state and render immediately
            const cachedAuth = localStorage.getItem('authState');
            if (cachedAuth) {
                const authState = JSON.parse(cachedAuth);
                authButtons.innerHTML = authState.isLoggedIn
                    ? `<a href="#" onclick="logout(); return false;" class="btn-primary">Logout</a>`
                    : `<a href="login" class="btn-primary">Login</a>`;
                authButtons.style.opacity = '1';
            }

            // Then verify with server in background
            try {
                const response = await fetch(`${API_URL}/auth/me`, { credentials: 'include' });

                if (response.ok) {
                    localStorage.setItem('authState', JSON.stringify({ isLoggedIn: true }));
                    authButtons.innerHTML = `<a href="#" onclick="logout(); return false;" class="btn-primary">Logout</a>`;
                } else {
                    localStorage.setItem('authState', JSON.stringify({ isLoggedIn: false }));
                    authButtons.innerHTML = `<a href="login" class="btn-primary">Login</a>`;
                }
                authButtons.style.opacity = '1';
            } catch (error) {
                console.log('Not logged in');
                localStorage.setItem('authState', JSON.stringify({ isLoggedIn: false }));
                authButtons.innerHTML = `<a href="login" class="btn-primary">Login</a>`;
                authButtons.style.opacity = '1';
            }
        }

        // Logout function
        async function logout() {
            localStorage.removeItem('authState');
            localStorage.removeItem('token');
            localStorage.removeItem('userId');
            try {
                await fetch(`${API_URL}/auth/logout`, {
                    method: 'POST',
                    credentials: 'include'
                });
                window.location.href = '/index.html';
            } catch (error) {
                console.error('Logout error:', error);
                window.location.href = '/index.html';
            }
        }

        // Interactive Goal Calculator
        function calculateGoal() {
            const name = document.getElementById('goalName').value;
            const amount = parseFloat(document.getElementById('goalAmount').value) || 0;
            const months = parseFloat(document.getElementById('goalMonths').value) || 0;

            if (amount > 0 && months > 0) {
                const perMonth = (amount / months).toFixed(2);
                const resultDiv = document.getElementById('goalResult');
                const valueDiv = document.getElementById('goalValue');
                const messageDiv = document.getElementById('goalMessage');

                resultDiv.classList.add('show');
                valueDiv.textContent = `$${perMonth}`;
                messageDiv.textContent = `per month to save $${amount} for ${name || 'your goal'} in ${months} months`;
            }
        }

        // Interactive Checklist
        function toggleChecklistItem(item) {
            item.classList.toggle('checked');
            const checkbox = item.querySelector('.checklist-checkbox');
            if (item.classList.contains('checked')) {
                checkbox.textContent = '‚úì';
            } else {
                checkbox.textContent = '';
            }
        }

        // Quiz data with multiple versions of each question
        const quizData = [
            {
                versions: [
                    {
                        question: "What does the 'S' in SMART goals stand for?",
                        options: [
                            "Simple",
                            "Specific",
                            "Strategic",
                            "Sudden"
                        ],
                        correct: 1
                    },
                    {
                        question: "According to the SMART framework, goals should be:",
                        options: [
                            "Vague and flexible",
                            "Specific, Measurable, Achievable, Relevant, and Time-bound",
                            "Simple and easy",
                            "Complicated and impressive"
                        ],
                        correct: 1
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "Which is an example of a short-term financial goal?",
                        options: [
                            "Retirement savings",
                            "Buying a house",
                            "Emergency fund (0-1 year)",
                            "Children's college fund"
                        ],
                        correct: 2
                    },
                    {
                        question: "What timeframe defines a long-term financial goal?",
                        options: [
                            "0-1 year",
                            "1-3 years",
                            "3-5 years",
                            "5+ years"
                        ],
                        correct: 3
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "Which is a better financial goal?",
                        options: [
                            "Save more money",
                            "Save $500 by December 31st by setting aside $42 per month",
                            "Get rich",
                            "Try to save something"
                        ],
                        correct: 1
                    },
                    {
                        question: "What makes a goal 'measurable'?",
                        options: [
                            "It's written down",
                            "It has specific numbers and can be tracked",
                            "It's difficult",
                            "Everyone has the same goal"
                        ],
                        correct: 1
                    }
                ]
            },
            {
                versions: [
                    {
                        question: "What common mistake involves setting financial goals?",
                        options: [
                            "Setting too many goals at once",
                            "Writing goals down",
                            "Making goals too easy",
                            "Reviewing progress monthly"
                        ],
                        correct: 0
                    },
                    {
                        question: "According to the lesson, how many priority goals should you focus on?",
                        options: [
                            "As many as possible",
                            "1-3 priorities",
                            "10 or more",
                            "None, just wing it"
                        ],
                        correct: 1
                    }
                ]
            }
        ];

        let currentQuestions = [];
        let userAnswers = [];
        let quizPassed = false;

        // Initialize quiz
        function initQuiz() {
            const userId = localStorage.getItem('userId');

            // Validate userId exists
            if (!userId || userId === 'null' || userId === 'undefined') {
                console.error('No valid userId found');
                document.getElementById('finishBtn').disabled = true;
                return;
            }

            const quizPassedStatus = localStorage.getItem(`lesson5_quiz_passed_${userId}`);

            if (quizPassedStatus === 'true') {
                quizPassed = true;
                document.getElementById('finishBtn').disabled = false;
                document.getElementById('quizContainer').style.display = 'none';
                return;
            }

            // Select random version of each question
            currentQuestions = quizData.map(q => {
                const randomVersion = q.versions[Math.floor(Math.random() * q.versions.length)];
                return randomVersion;
            });

            renderQuiz();
        }

        function renderQuiz() {
            const questionsContainer = document.getElementById('quizQuestions');
            questionsContainer.innerHTML = '';
            userAnswers = new Array(currentQuestions.length).fill(null);

            currentQuestions.forEach((q, qIndex) => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.innerHTML = `
                    <div class="question-text">Question ${qIndex + 1}: ${q.question}</div>
                    ${q.options.map((option, oIndex) => `
                        <div class="answer-option" onclick="selectAnswer(${qIndex}, ${oIndex})">
                            <input type="radio" name="question${qIndex}" value="${oIndex}" style="margin-right: 10px;">
                            ${option}
                        </div>
                    `).join('')}
                `;
                questionsContainer.appendChild(questionCard);
            });

            document.getElementById('submitQuiz').disabled = false;
            document.getElementById('quizResult').innerHTML = '';
        }

        function selectAnswer(questionIndex, optionIndex) {
            userAnswers[questionIndex] = optionIndex;

            // Update visual selection
            const questionCard = document.querySelectorAll('.question-card')[questionIndex];
            const options = questionCard.querySelectorAll('.answer-option');
            options.forEach((opt, idx) => {
                opt.classList.remove('selected');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                    opt.querySelector('input').checked = true;
                }
            });
        }

        function submitQuiz() {
            // Check if all questions are answered
            if (userAnswers.includes(null)) {
                alert('Please answer all questions before submitting.');
                return;
            }

            // Calculate score
            let correct = 0;
            currentQuestions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    correct++;
                }
            });

            const percentage = Math.round((correct / currentQuestions.length) * 100);
            const passed = percentage >= 75;

            // Show correct/incorrect answers
            document.querySelectorAll('.question-card').forEach((card, qIndex) => {
                const options = card.querySelectorAll('.answer-option');
                options.forEach((opt, oIndex) => {
                    opt.style.pointerEvents = 'none';
                    if (oIndex === currentQuestions[qIndex].correct) {
                        opt.classList.add('correct');
                    } else if (oIndex === userAnswers[qIndex] && oIndex !== currentQuestions[qIndex].correct) {
                        opt.classList.add('incorrect');
                    }
                });
            });

            // Display result
            const resultDiv = document.getElementById('quizResult');
            if (passed) {
                quizPassed = true;
                const userId = localStorage.getItem('userId');
                localStorage.setItem(`lesson5_quiz_passed_${userId}`, 'true');
                document.getElementById('finishBtn').disabled = false;

                resultDiv.innerHTML = `
                    <div class="quiz-result pass">
                        <div class="result-icon">üéâ</div>
                        <div class="result-text" style="color: #10b981;">Quiz Passed!</div>
                        <div class="result-score">You scored ${correct} out of ${currentQuestions.length} (${percentage}%)</div>
                        <p style="color: var(--text-secondary);">Great job! You can now finish the lesson and move to the next one.</p>
                    </div>
                `;
            } else {
                resultDiv.innerHTML = `
                    <div class="quiz-result fail">
                        <div class="result-icon">üìö</div>
                        <div class="result-text" style="color: #dc2626;">Not quite there yet</div>
                        <div class="result-score">You scored ${correct} out of ${currentQuestions.length} (${percentage}%)</div>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">You need 75% to pass. Review the lesson and try again!</p>
                        <button class="btn-retry" onclick="retryQuiz()">Retry Quiz</button>
                    </div>
                `;
            }

            document.getElementById('submitQuiz').style.display = 'none';
        }

        function retryQuiz() {
            // Re-initialize with new question versions
            currentQuestions = quizData.map(q => {
                const randomVersion = q.versions[Math.floor(Math.random() * q.versions.length)];
                return randomVersion;
            });
            renderQuiz();
            document.getElementById('submitQuiz').style.display = 'block';
        }

        async function finishLesson() {
            if (!quizPassed) {
                alert('Please complete the quiz first!');
                return;
            }

            // Use shared completion function
            const success = await completeLesson('pillar1_lesson5', 1, 5);

            if (success) {
                // Redirect back to lessons page
                window.location.href = 'pillar1-lessons.html';
            }
        }

        updateNav();
        initQuiz();

        // Checkpoint functions
        let checkpoint1Answered = false;
        let checkpoint2Answered = false;

        function checkCheckpoint1(selectedOption) {
            if (checkpoint1Answered) return;
            checkpoint1Answered = true;

            const correctOption = 1; // B) Measurable
            const isCorrect = selectedOption === correctOption;

            // Get elements
            const options = document.querySelectorAll('[name="checkpoint1"]').forEach((radio, index) => {
                const optionDiv = radio.parentElement;
                optionDiv.style.pointerEvents = 'none';

                if (index === correctOption) {
                    optionDiv.classList.add('correct');
                } else if (index === selectedOption && index !== correctOption) {
                    optionDiv.classList.add('incorrect');
                }

                if (index === selectedOption) {
                    radio.checked = true;
                }
            });

            // Show feedback
            const feedback = document.getElementById('checkpoint1-feedback');
            const feedbackIcon = feedback.querySelector('.checkpoint-feedback-icon');
            const feedbackTitle = feedback.querySelector('.checkpoint-feedback-title');
            const feedbackExplanation = feedback.querySelector('.checkpoint-explanation');
            const continueBtn = document.getElementById('checkpoint1-continue');

            if (isCorrect) {
                feedback.classList.add('correct');
                feedbackIcon.textContent = 'üéâ';
                feedbackTitle.textContent = 'Correct!';
                feedbackExplanation.textContent = 'The "M" in SMART stands for Measurable. You need numbers to track your progress.';
            } else {
                feedback.classList.add('incorrect');
                feedbackIcon.textContent = 'üí°';
                feedbackTitle.textContent = 'Not quite!';
                feedbackExplanation.textContent = 'The "M" in SMART stands for Measurable. Goals need specific numbers so you can track progress.';
            }

            feedback.classList.add('show');
            continueBtn.classList.add('show');
        }

        function checkCheckpoint2(selectedOption) {
            if (checkpoint2Answered) return;
            checkpoint2Answered = true;

            const correctOption = 1; // B) I'll save $500 by June 30 for vacation
            const isCorrect = selectedOption === correctOption;

            // Get elements
            const options = document.querySelectorAll('[name="checkpoint2"]').forEach((radio, index) => {
                const optionDiv = radio.parentElement;
                optionDiv.style.pointerEvents = 'none';

                if (index === correctOption) {
                    optionDiv.classList.add('correct');
                } else if (index === selectedOption && index !== correctOption) {
                    optionDiv.classList.add('incorrect');
                }

                if (index === selectedOption) {
                    radio.checked = true;
                }
            });

            // Show feedback
            const feedback = document.getElementById('checkpoint2-feedback');
            const feedbackIcon = feedback.querySelector('.checkpoint-feedback-icon');
            const feedbackTitle = feedback.querySelector('.checkpoint-feedback-title');
            const feedbackExplanation = feedback.querySelector('.checkpoint-explanation');
            const continueBtn = document.getElementById('checkpoint2-continue');

            if (isCorrect) {
                feedback.classList.add('correct');
                feedbackIcon.textContent = 'üéâ';
                feedbackTitle.textContent = 'Excellent!';
                feedbackExplanation.textContent = 'This goal is Specific ($500 for vacation), Measurable ($500), Achievable, Relevant, and Time-bound (June 30).';
            } else {
                feedback.classList.add('incorrect');
                feedbackIcon.textContent = 'üí°';
                feedbackTitle.textContent = 'Good thinking, but...';
                feedbackExplanation.textContent = 'The SMART goal is "I\'ll save $500 by June 30 for vacation" - it has all five elements.';
            }

            feedback.classList.add('show');
            continueBtn.classList.add('show');
        }

        // Multi-screen navigation
        let currentScreen = 1;
        const totalScreens = 8;

        function showScreen(screenNumber) {
            // Hide all screens
            document.querySelectorAll('.lesson-screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // Show the requested screen
            const targetScreen = document.querySelector(`.lesson-screen[data-screen="${screenNumber}"]`);
            if (targetScreen) {
                targetScreen.classList.add('active');
                currentScreen = screenNumber;

                // Smooth scroll to top of lesson container
                const lessonContainer = document.querySelector('.lesson-container');
                const headerOffset = 80; // Height of navbar
                const elementPosition = lessonContainer.getBoundingClientRect().top;
                const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                window.scrollTo({
                    top: offsetPosition,
                    behavior: 'smooth'
                });
            }
        }

        function nextScreen() {
            if (currentScreen < totalScreens) {
                showScreen(currentScreen + 1);
            }
        }

        function previousScreen() {
            if (currentScreen > 1) {
                showScreen(currentScreen - 1);
            }
        }

        // Initialize first screen on page load
        document.addEventListener('DOMContentLoaded', function() {
            showScreen(1);
        });
    </script>
</body>
</html>
