<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson 4 - High-Yield Savings - FinanceU</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');

        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: #0f0f0f;
            overflow-x: hidden;
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(135deg, #e5e7eb 0%, #9ca3af 50%, #e5e7eb 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 5s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Navigation */
        .nav-blur {
            backdrop-filter: blur(12px);
            background: rgba(15, 15, 15, 0.9);
            border-bottom: 1px solid rgba(156, 163, 175, 0.15);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        /* Progress bar */
        .progress-container {
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(31, 41, 55, 0.8);
            z-index: 40;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #3b82f6);
            background-size: 200% 100%;
            transition: width 0.5s ease;
            animation: shimmer 2s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 0%; }
            50% { background-position: 100% 0%; }
        }

        /* Floating particles */
        .particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0.2;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(180deg); }
        }

        /* 3D Button Effect */
        .btn-3d {
            transform-style: preserve-3d;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3), 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .btn-3d:hover {
            transform: translateY(-4px) translateZ(10px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4), 0 16px 32px rgba(0, 0, 0, 0.3), 0 0 40px rgba(209, 213, 219, 0.2);
        }

        /* Content cards */
        .content-card {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.4s ease;
        }

        .content-card:hover {
            transform: translateY(-8px);
            border-color: rgba(59, 130, 246, 0.6);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(59, 130, 246, 0.2);
        }

        /* Interactive card - clickable */
        .interactive-card {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .interactive-card:hover {
            transform: translateY(-8px);
            border-color: rgba(59, 130, 246, 0.6);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(59, 130, 246, 0.2);
        }

        .interactive-card.revealed {
            border-color: rgba(16, 185, 129, 0.8);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(16, 185, 129, 0.3);
        }

        .card-front, .card-back {
            transition: opacity 0.3s ease;
        }

        .card-back {
            display: none;
            opacity: 0;
        }

        .interactive-card.revealed .card-front {
            display: none;
        }

        .interactive-card.revealed .card-back {
            display: block;
            opacity: 1;
            animation: fadeIn 0.5s ease;
        }

        /* Comparison cards */
        .comparison-card {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(17, 24, 39, 0.95) 100%);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.4s ease;
        }

        .comparison-card.losing {
            border-color: rgba(239, 68, 68, 0.6);
        }

        .comparison-card.winning {
            border-color: rgba(16, 185, 129, 0.6);
        }

        .comparison-card.losing:hover {
            border-color: rgba(239, 68, 68, 0.8);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(239, 68, 68, 0.3);
        }

        .comparison-card.winning:hover {
            border-color: rgba(16, 185, 129, 0.8);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.9), 0 0 40px rgba(16, 185, 129, 0.3);
        }

        /* Calculator slider */
        .calc-slider {
            width: 100%;
            height: 6px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            -webkit-appearance: none;
        }

        .calc-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%);
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
            transition: all 0.2s ease;
        }

        .calc-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        /* Bank selector */
        .bank-option {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.8) 0%, rgba(17, 24, 39, 0.9) 100%);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .bank-option:hover {
            border-color: rgba(59, 130, 246, 0.6);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        .bank-option.selected {
            border-color: rgba(16, 185, 129, 0.8);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        /* Quiz option */
        .quiz-option {
            background: linear-gradient(135deg, rgba(31, 41, 55, 0.8) 0%, rgba(17, 24, 39, 0.9) 100%);
            border: 2px solid rgba(75, 85, 99, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .quiz-option:hover {
            border-color: rgba(59, 130, 246, 0.6);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        .quiz-option.selected {
            border-color: rgba(59, 130, 246, 0.8);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        .quiz-option.correct {
            border-color: rgba(16, 185, 129, 0.8);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
        }

        .quiz-option.incorrect {
            border-color: rgba(239, 68, 68, 0.8);
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(17, 24, 39, 0.9) 100%);
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        /* Fade in animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Glow effects */
        .glow-blue {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.4), 0 0 40px rgba(59, 130, 246, 0.2);
        }

        .glow-green {
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.4), 0 0 40px rgba(16, 185, 129, 0.2);
        }

        .glow-red {
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4), 0 0 40px rgba(239, 68, 68, 0.2);
        }

        /* Pulse animation */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
        }

        /* Click indicator */
        .click-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(59, 130, 246, 0.3);
            color: #60a5fa;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
    </style>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });
    </script>
</head>
<body class="min-h-screen relative" style="color: #d1d5db;">
    <!-- Floating Particles -->
    <div id="particles-container" style="position: fixed; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; z-index: 1;"></div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 nav-blur">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="/" class="flex items-center space-x-2">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-gray-200 to-gray-400 glow-blue flex items-center justify-center font-bold text-xl" style="color: #1f2937;">
                        F
                    </div>
                    <span class="text-2xl font-bold gradient-text">FinanceU</span>
                </a>

                <div class="hidden md:flex items-center space-x-6">
                    <a href="/" class="text-gray-400 hover:text-gray-200 transition-colors font-medium">Home</a>
                    <a href="/dashboard" class="text-gray-400 hover:text-gray-200 transition-colors font-medium">Dashboard</a>
                </div>

                <div class="flex items-center space-x-4" id="authButtons">
                    <button onclick="logout()" class="btn-3d px-6 py-2.5 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-lg font-semibold glow-blue transition-all" style="color: #1f2937;">
                        Logout
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Progress Bar -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar" style="width: 0%;"></div>
    </div>

    <!-- Main Content -->
    <section class="min-h-screen pt-32 pb-20 relative z-10">
        <div class="container mx-auto px-6 max-w-6xl">
            <!-- Back Button -->
            <a href="/path1-lessons" class="inline-flex items-center text-gray-400 hover:text-gray-200 transition-colors mb-8 font-medium">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Back to Path 1 Lessons
            </a>

            <!-- Lesson Header -->
            <div class="text-center mb-16 fade-in">
                <div class="inline-block px-4 py-2 rounded-full bg-blue-500/20 border border-blue-500/40 text-blue-400 font-bold text-sm mb-4">
                    LESSON 4
                </div>
                <h1 class="text-5xl md:text-6xl font-black mb-4 text-gray-200">
                    <span class="gradient-text">High-Yield Savings</span>
                </h1>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                    Stop leaving money on the table - make your savings work 40x harder
                </p>
            </div>

            <!-- Section 1: The Problem (Interactive Reveal Cards) -->
            <div id="section1" class="mb-24 fade-in">
                <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">The Problem: Your Bank Pays Almost Nothing</h2>
                <p class="text-center text-gray-400 mb-12">Click each card to reveal the shocking truth</p>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
                    <!-- Interactive Card 1 -->
                    <div class="interactive-card rounded-3xl p-8 text-center" onclick="revealCard(this)">
                        <span class="click-indicator">Click Me</span>
                        <div class="card-front">
                            <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-red-500/20 border-2 border-red-500/40 flex items-center justify-center">
                                <svg class="w-8 h-8 text-red-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-200 mb-3">Traditional Banks</h3>
                            <p class="text-gray-400">What are they really paying you?</p>
                        </div>
                        <div class="card-back">
                            <div class="text-6xl font-black text-red-400 mb-4">0.01%</div>
                            <p class="text-gray-300 mb-2 font-bold">On $5,000:</p>
                            <p class="text-gray-400 text-sm mb-3">You earn $0.50 per year</p>
                            <p class="text-red-300 text-sm italic">Not even worth checking!</p>
                        </div>
                    </div>

                    <!-- Interactive Card 2 -->
                    <div class="interactive-card rounded-3xl p-8 text-center pulse-animation" onclick="revealCard(this)">
                        <span class="click-indicator">Click Me</span>
                        <div class="card-front">
                            <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-green-500/20 border-2 border-green-500/40 flex items-center justify-center">
                                <svg class="w-8 h-8 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-200 mb-3">High-Yield Savings</h3>
                            <p class="text-gray-400">The better alternative</p>
                        </div>
                        <div class="card-back">
                            <div class="text-6xl font-black text-green-400 mb-4">4.50%</div>
                            <p class="text-gray-300 mb-2 font-bold">On $5,000:</p>
                            <p class="text-gray-400 text-sm mb-3">You earn $225 per year</p>
                            <p class="text-green-300 text-sm italic">Real money for nothing!</p>
                        </div>
                    </div>

                    <!-- Interactive Card 3 -->
                    <div class="interactive-card rounded-3xl p-8 text-center" onclick="revealCard(this)">
                        <span class="click-indicator">Click Me</span>
                        <div class="card-front">
                            <div class="w-16 h-16 mx-auto mb-6 rounded-2xl bg-yellow-500/20 border-2 border-yellow-500/40 flex items-center justify-center">
                                <svg class="w-8 h-8 text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold text-gray-200 mb-3">The Difference</h3>
                            <p class="text-gray-400">What you're losing out on</p>
                        </div>
                        <div class="card-back">
                            <div class="text-5xl font-black text-yellow-400 mb-4">$224.50</div>
                            <p class="text-gray-300 mb-2 font-bold">More per year</p>
                            <p class="text-gray-400 text-sm mb-3">That's <span class="text-yellow-400 font-bold">450x</span> more interest!</p>
                            <p class="text-yellow-300 text-sm italic">Free money just sitting there</p>
                        </div>
                    </div>
                </div>

                <div class="content-card rounded-3xl p-6 text-center">
                    <p class="text-gray-300"><span class="text-red-400 font-bold">Reality check:</span> With inflation at ~3%, traditional savings accounts are actually <span class="text-red-400 font-bold">losing you money</span>. You're going backwards.</p>
                </div>

                <div class="text-center mt-12">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        See Your Own Numbers →
                    </button>
                </div>
            </div>

            <!-- Section 2: Interactive Calculator -->
            <div id="section2" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">Calculate Your Potential Earnings</h2>
                <p class="text-center text-gray-400 mb-12">Adjust the sliders to see how much YOU could be earning</p>

                <div class="content-card rounded-3xl p-8">
                    <div class="mb-8">
                        <label class="block text-gray-300 font-semibold mb-3">How much do you have saved?</label>
                        <input type="range" class="calc-slider mb-2" min="100" max="50000" step="100" value="5000" id="savingsAmount" oninput="updateCalc()">
                        <div class="text-center text-3xl font-bold text-blue-400" id="savingsDisplay">$5,000</div>
                    </div>

                    <div class="mb-8">
                        <label class="block text-gray-300 font-semibold mb-3">For how many years?</label>
                        <input type="range" class="calc-slider mb-2" min="1" max="10" step="1" value="5" id="yearsAmount" oninput="updateCalc()">
                        <div class="text-center text-3xl font-bold text-purple-400" id="yearsDisplay">5 years</div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-12">
                        <div class="comparison-card losing rounded-3xl p-8 text-center">
                            <h3 class="text-2xl font-bold text-red-400 mb-4">Traditional (0.01%)</h3>
                            <div class="text-5xl font-black text-red-400 mb-3" id="traditionalTotal">$5,002</div>
                            <p class="text-gray-400 mb-2">Interest earned:</p>
                            <div class="text-2xl font-bold text-gray-300" id="traditionalEarned">$2</div>
                        </div>

                        <div class="comparison-card winning rounded-3xl p-8 text-center">
                            <h3 class="text-2xl font-bold text-green-400 mb-4">High-Yield (4.50%)</h3>
                            <div class="text-5xl font-black text-green-400 mb-3" id="highYieldTotal">$6,230</div>
                            <p class="text-gray-400 mb-2">Interest earned:</p>
                            <div class="text-2xl font-bold text-gray-300" id="highYieldEarned">$1,230</div>
                        </div>
                    </div>

                    <div class="mt-8 p-8 rounded-2xl bg-gradient-to-r from-blue-500/20 to-purple-500/20 border-2 border-blue-500/40 text-center">
                        <p class="text-gray-300 mb-2">You're missing out on</p>
                        <div class="text-6xl font-black text-blue-400 mb-3" id="difference">$1,228</div>
                        <p class="text-gray-400">Free money just for switching accounts</p>
                    </div>
                </div>

                <div class="text-center mt-12">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Continue →
                    </button>
                </div>
            </div>

            <!-- Section 3: Why High-Yield Pays More -->
            <div id="section3" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-8 text-center">Why High-Yield Accounts Pay More</h2>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                    <div class="content-card rounded-3xl p-8">
                        <h3 class="text-2xl font-bold text-blue-400 mb-6">Online Banks</h3>
                        <ul class="space-y-4">
                            <li class="flex items-start gap-3">
                                <svg class="w-6 h-6 text-green-400 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <div>
                                    <strong class="text-gray-200">No physical branches</strong>
                                    <p class="text-gray-400 text-sm">Saves millions in rent and staff</p>
                                </div>
                            </li>
                            <li class="flex items-start gap-3">
                                <svg class="w-6 h-6 text-green-400 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <div>
                                    <strong class="text-gray-200">Lower operating costs</strong>
                                    <p class="text-gray-400 text-sm">Pass savings to you as higher rates</p>
                                </div>
                            </li>
                            <li class="flex items-start gap-3">
                                <svg class="w-6 h-6 text-green-400 flex-shrink-0 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                                <div>
                                    <strong class="text-gray-200">Same FDIC insurance</strong>
                                    <p class="text-gray-400 text-sm">Up to $250,000 - just as safe</p>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div class="content-card rounded-3xl p-8">
                        <h3 class="text-2xl font-bold text-purple-400 mb-6">Common Questions</h3>
                        <div class="space-y-4">
                            <div>
                                <p class="text-gray-200 font-bold mb-2">Q: What's the catch?</p>
                                <p class="text-gray-400 text-sm">A: No catch. Online-only means lower costs, which means higher rates for you.</p>
                            </div>
                            <div>
                                <p class="text-gray-200 font-bold mb-2">Q: Can I access my money quickly?</p>
                                <p class="text-gray-400 text-sm">A: Yes! Transfer back to checking takes 1-3 days. It's savings—you shouldn't need instant access.</p>
                            </div>
                            <div>
                                <p class="text-gray-200 font-bold mb-2">Q: Will rates drop?</p>
                                <p class="text-gray-400 text-sm">A: Rates fluctuate with the economy, but high-yield will always pay way more than traditional banks.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        How to Open One →
                    </button>
                </div>
            </div>

            <!-- Section 4: How to Open (Interactive Steps) -->
            <div id="section4" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">How to Open a High-Yield Account</h2>
                <p class="text-center text-gray-400 mb-12">Takes 10 minutes. Here's exactly what to do:</p>

                <div class="space-y-6">
                    <div class="content-card rounded-3xl p-6 flex items-start gap-6">
                        <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 font-black text-white text-xl">1</div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-200 mb-2">Compare Banks</h3>
                            <p class="text-gray-400">Go to NerdWallet or Bankrate. Look for 4%+ APY, $0 minimum, no monthly fees.</p>
                        </div>
                    </div>

                    <div class="content-card rounded-3xl p-6 flex items-start gap-6">
                        <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 font-black text-white text-xl">2</div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-200 mb-2">Open Account Online</h3>
                            <p class="text-gray-400">Click "Open Account". Need: ID, social security number, address. Takes 10 minutes.</p>
                        </div>
                    </div>

                    <div class="content-card rounded-3xl p-6 flex items-start gap-6">
                        <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 font-black text-white text-xl">3</div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-200 mb-2">Link Your Current Bank</h3>
                            <p class="text-gray-400">Enter current bank's routing and account numbers to transfer money between accounts.</p>
                        </div>
                    </div>

                    <div class="content-card rounded-3xl p-6 flex items-start gap-6">
                        <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 font-black text-white text-xl">4</div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-200 mb-2">Transfer Your Savings</h3>
                            <p class="text-gray-400">Move savings money to high-yield account. Keep checking account for daily expenses.</p>
                        </div>
                    </div>

                    <div class="content-card rounded-3xl p-6 flex items-start gap-6">
                        <div class="w-12 h-12 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0 font-black text-white text-xl">5</div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-200 mb-2">Watch It Grow</h3>
                            <p class="text-gray-400">Check back monthly. You'll see real interest adding up—it's addicting in the best way!</p>
                        </div>
                    </div>
                </div>

                <div class="content-card rounded-3xl p-8 text-center mt-12 glow-green">
                    <h3 class="text-2xl font-bold text-green-400 mb-4">The Bottom Line</h3>
                    <p class="text-gray-300">If someone offered you $200+ every year for 10 minutes of work, you'd do it. That's what this is. <span class="text-green-400 font-bold">The biggest mistake is doing nothing.</span></p>
                </div>

                <div class="text-center mt-12">
                    <button onclick="nextSection()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Take the Quiz →
                    </button>
                </div>
            </div>

            <!-- Section 5: Quiz -->
            <div id="section5" class="mb-24 hidden">
                <h2 class="text-3xl font-bold text-gray-200 mb-4 text-center">Lesson Quiz</h2>
                <p class="text-center text-gray-400 mb-12">Answer all questions correctly to complete the lesson (You need 100%)</p>

                <div id="quizContainer" class="space-y-6 mb-12"></div>

                <div class="text-center">
                    <button id="submitQuizBtn" onclick="submitQuiz()" class="btn-3d px-8 py-4 bg-gradient-to-r from-gray-200 to-gray-300 hover:from-gray-300 hover:to-gray-200 rounded-xl font-bold text-lg" style="color: #1f2937;">
                        Submit Quiz
                    </button>
                </div>

                <div id="quizResult" class="hidden mt-12"></div>

                <div id="finishSection" class="text-center mt-12 hidden">
                    <button onclick="finishLesson()" class="btn-3d px-10 py-5 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 rounded-xl font-bold text-white text-xl glow-green pulse-animation flex items-center justify-center gap-2" style="margin: 0 auto;">
                        Finish Lesson
                        <i data-lucide="check" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <script src="config.js"></script>
    <script src="lesson-completion.js"></script>
    <script>
        // Floating particles
        function createParticles() {
            const container = document.getElementById('particles-container');
            const particleCount = 30;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';

                const size = Math.random() * 4 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                particle.style.background = `rgba(156, 163, 175, ${Math.random() * 0.5 + 0.2})`;
                particle.style.animation = `float ${Math.random() * 10 + 10}s ease-in-out infinite`;
                particle.style.animationDelay = `${Math.random() * 5}s`;

                container.appendChild(particle);
            }
        }

        createParticles();

        // Card reveal interaction
        function revealCard(card) {
            card.classList.add('revealed');
            const indicator = card.querySelector('.click-indicator');
            if (indicator) {
                indicator.style.display = 'none';
            }
        }

        // Navigation
        let currentSection = 1;
        const totalSections = 5;

        function updateProgress() {
            const progress = (currentSection / totalSections) * 100;
            document.getElementById('progressBar').style.width = `${progress}%`;
        }

        function nextSection() {
            document.getElementById(`section${currentSection}`).classList.add('hidden');
            currentSection++;
            document.getElementById(`section${currentSection}`).classList.remove('hidden');
            document.getElementById(`section${currentSection}`).classList.add('fade-in');
            updateProgress();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Calculator
        function updateCalc() {
            const savings = parseFloat(document.getElementById('savingsAmount').value);
            const years = parseInt(document.getElementById('yearsAmount').value);
            const traditionalRate = 0.0001;
            const highYieldRate = 0.045;

            document.getElementById('savingsDisplay').textContent = '$' + savings.toLocaleString();
            document.getElementById('yearsDisplay').textContent = years + (years === 1 ? ' year' : ' years');

            const traditionalTotal = savings * Math.pow(1 + traditionalRate, years);
            const highYieldTotal = savings * Math.pow(1 + highYieldRate, years);
            const traditionalEarned = traditionalTotal - savings;
            const highYieldEarned = highYieldTotal - savings;
            const diff = highYieldEarned - traditionalEarned;

            document.getElementById('traditionalTotal').textContent = '$' + Math.round(traditionalTotal).toLocaleString();
            document.getElementById('traditionalEarned').textContent = '$' + Math.round(traditionalEarned).toLocaleString();
            document.getElementById('highYieldTotal').textContent = '$' + Math.round(highYieldTotal).toLocaleString();
            document.getElementById('highYieldEarned').textContent = '$' + Math.round(highYieldEarned).toLocaleString();
            document.getElementById('difference').textContent = '$' + Math.round(diff).toLocaleString();
        }

        // Quiz data
        const quizQuestions = [
            {
                question: "What's the typical interest rate for high-yield savings accounts?",
                options: ["0.01% APY", "1.00% APY", "4.00-5.00% APY", "10.00% APY"],
                correct: 2
            },
            {
                question: "Why can online banks offer higher interest rates?",
                options: [
                    "They take bigger risks with your money",
                    "No physical branches = lower costs",
                    "They charge hidden fees",
                    "It's a temporary promotion"
                ],
                correct: 1
            },
            {
                question: "Are high-yield savings accounts FDIC insured like regular banks?",
                options: [
                    "No, they're riskier",
                    "Only up to $50,000",
                    "Yes, up to $250,000 per account",
                    "No insurance needed"
                ],
                correct: 2
            },
            {
                question: "How much could you earn on $5,000 over 1 year at 4.50% APY?",
                options: ["$5", "$50", "$225", "$500"],
                correct: 2
            },
            {
                question: "What is the main advantage of compound interest in a high-yield savings account?",
                options: [
                    "You earn interest on your interest over time",
                    "You pay less in taxes",
                    "You can withdraw money anytime without penalty",
                    "You get a bonus for opening the account"
                ],
                correct: 0
            }
        ];

        let userAnswers = new Array(quizQuestions.length).fill(null);
        let quizPassed = false;

        function initQuiz() {
            const userId = localStorage.getItem('userId');
            if (!userId || userId === 'null' || userId === 'undefined') {
                return;
            }

            const quizPassedStatus = localStorage.getItem(`lesson4_quiz_passed_${userId}`);
            if (quizPassedStatus === 'true') {
                quizPassed = true;
                document.getElementById('quizContainer').innerHTML = '<div class="content-card rounded-3xl p-8 text-center"><p class="text-green-400 text-xl font-bold flex items-center justify-center gap-2"><i data-lucide="check-circle" class="w-6 h-6"></i> Quiz Already Completed</p></div>';
                lucide.createIcons();
                document.getElementById('submitQuizBtn').classList.add('hidden');
                document.getElementById('finishSection').classList.remove('hidden');
                return;
            }

            renderQuiz();
        }

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';

            quizQuestions.forEach((q, qIndex) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'content-card quiz-question-card rounded-3xl p-8';
                questionDiv.setAttribute('data-question', qIndex);
                questionDiv.innerHTML = `
                    <h3 class="text-xl font-bold text-gray-200 mb-6">Question ${qIndex + 1}: ${q.question}</h3>
                    <div class="space-y-3">
                        ${q.options.map((option, oIndex) => `
                            <div class="quiz-option rounded-xl p-4" onclick="selectAnswer(${qIndex}, ${oIndex})">
                                <input type="radio" name="question${qIndex}" value="${oIndex}" class="mr-3">
                                <span class="text-gray-300">${option}</span>
                            </div>
                        `).join('')}
                    </div>
                `;
                container.appendChild(questionDiv);
            });
        }

        function selectAnswer(questionIndex, optionIndex) {
            userAnswers[questionIndex] = optionIndex;

            const questionCard = document.querySelector(`.quiz-question-card[data-question="${questionIndex}"]`);
            const options = questionCard.querySelectorAll('.quiz-option');
            options.forEach((opt, idx) => {
                opt.classList.remove('selected');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                    opt.querySelector('input').checked = true;
                }
            });
        }

        function submitQuiz() {
            if (userAnswers.includes(null)) {
                alert('Please answer all questions before submitting.');
                return;
            }

            let correct = 0;
            quizQuestions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    correct++;
                }
            });

            const passed = correct === quizQuestions.length;

            // Show correct/incorrect
            document.querySelectorAll('.quiz-question-card').forEach((card, qIndex) => {
                const options = card.querySelectorAll('.quiz-option');
                options.forEach((opt, oIndex) => {
                    opt.style.pointerEvents = 'none';
                    if (oIndex === quizQuestions[qIndex].correct) {
                        opt.classList.add('correct');
                    } else if (oIndex === userAnswers[qIndex] && oIndex !== quizQuestions[qIndex].correct) {
                        opt.classList.add('incorrect');
                    }
                });
            });

            const resultDiv = document.getElementById('quizResult');
            if (passed) {
                quizPassed = true;
                const userId = localStorage.getItem('userId');
                localStorage.setItem(`lesson4_quiz_passed_${userId}`, 'true');

                resultDiv.innerHTML = `
                    <div class="content-card rounded-3xl p-10 text-center glow-green">
                        <div class="mb-4 flex justify-center">
                            <i data-lucide="party-popper" class="w-16 h-16 text-green-400"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-green-400 mb-4">Perfect Score!</h3>
                        <p class="text-gray-300 text-lg mb-2">You scored ${correct} out of ${quizQuestions.length} (100%)</p>
                        <p class="text-gray-400">You understand high-yield savings. Now go open one!</p>
                    </div>
                `;
                lucide.createIcons();
                document.getElementById('finishSection').classList.remove('hidden');
            } else {
                resultDiv.innerHTML = `
                    <div class="content-card rounded-3xl p-10 text-center" style="border-color: rgba(239, 68, 68, 0.6);">
                        <div class="mb-4 flex justify-center">
                            <i data-lucide="book-open" class="w-16 h-16 text-blue-400"></i>
                        </div>
                        <h3 class="text-3xl font-bold text-red-400 mb-4">Not quite there yet</h3>
                        <p class="text-gray-300 text-lg mb-2">You scored ${correct} out of ${quizQuestions.length}</p>
                        <p class="text-gray-400 mb-6">You need 100% to pass. Review and try again!</p>
                        <button onclick="retryQuiz()" class="btn-3d px-8 py-4 bg-gradient-to-r from-yellow-500 to-orange-600 hover:from-yellow-600 hover:to-orange-700 rounded-xl font-bold text-white text-lg">
                            Retry Quiz
                        </button>
                    </div>
                `;
                lucide.createIcons();
            }

            resultDiv.classList.remove('hidden');
            document.getElementById('submitQuizBtn').classList.add('hidden');
        }

        function retryQuiz() {
            userAnswers = new Array(quizQuestions.length).fill(null);
            renderQuiz();
            document.getElementById('quizResult').classList.add('hidden');
            document.getElementById('submitQuizBtn').classList.remove('hidden');
            window.scrollTo({ top: document.getElementById('quizContainer').offsetTop - 100, behavior: 'smooth' });
        }

        async function finishLesson() {
            if (!quizPassed) {
                alert('Please complete the quiz first!');
                return;
            }

            const success = await completeLesson('path1_lesson4', 1, 4);
            if (success) {
                window.location.href = 'path1-lessons.html';
            }
        }

        // Logout
        async function logout() {
            localStorage.removeItem('authState');
            localStorage.removeItem('token');
            localStorage.removeItem('userId');
            try {
                await fetch(`${API_URL}/auth/logout`, {
                    method: 'POST',
                    credentials: 'include'
                });
                window.location.href = '/index.html';
            } catch (error) {
                console.error('Logout error:', error);
                window.location.href = '/index.html';
            }
        }

        // Initialize
        updateProgress();
        initQuiz();
        updateCalc();
    </script>
</body>
</html>
